//>>built
define("rdfjson/formats/rdfxml/terms",["./uri"],function(n){var k=function(a){if("object"==typeof a)return a;if("string"==typeof a)return new g(a);"undefined"!=typeof a&&alert("Can't make term from "+a+" of type "+typeof a)},d=function(){return"\x3c"+this.uri+"\x3e"},h=function(a){this.uri=a;return this};h.prototype.termType="symbol";h.prototype.toString=d;h.prototype.toNT=d;var l=0,e=function(){this.id=l++;return this};e.prototype.termType="bnode";e.prototype.toNT=function(){return"_:n"+this.id};
e.prototype.toString=e.prototype.toNT;var g=function(a,p,b){this.value=a;this.lang=p;this.datatype=b;return this};g.prototype.termType="literal";g.prototype.toNT=function(){var a=this.value;if("string"!=typeof a)throw Error("Value of RDF literal is not string: "+a);a=a.replace(/\\/g,"\\\\");a=a.replace(/"/g,'\\"');a='"'+a+'"';this.datatype&&(a=a+"^^"+this.datatype);this.lang&&(a=a+"@"+this.lang);return a};g.prototype.toString=function(){return this.value};var f=function(){this.id=l++;this.elements=
[];this.closed=!1};f.prototype.termType="collection";f.prototype.toNT=function(){return"_:n"+this.id};f.prototype.toString=f.prototype.toNT;f.prototype.append=function(a){this.elements.push(a)};f.prototype.close=function(){this.closed=!0};var d=function(){return this.subject.toNT()+" "+this.predicate.toNT()+" "+this.object.toNT()+" ."},m=function(a,b,d,c){this.subject=k(a);this.predicate=k(b);this.object=k(d);"undefined"!=typeof c&&(this.why=c);return this};m.prototype.toNT=d;m.prototype.toString=
d;var b=function(){this.statements=[];this.constraints=[];this.initBindings=[];this.optional=[];return this},d=function(){return"{\n"+this.statements.join("\n")+"}"};b.prototype.termType="formula";b.prototype.toNT=d;b.prototype.toString=d;b.prototype.add=function(a,b,c,d){this.statements.push(new m(a,b,c,d))};b.prototype.sym=function(a,b){null!=b&&(a=this.namespaces[a]+b);return new h(a)};b.prototype.literal=function(a,b,c){return new g(a.toString(),b,c)};b.prototype.bnode=function(){return new e};
b.prototype.formula=function(){return new b};b.prototype.collection=function(){return new f};var c=function(a){this.uri=n.join(a,"varid:");return this};c.prototype.termType="variable";c.prototype.toNT=function(){return"varid:"==this.uri.slice(0,6)?"?"+this.uri.slice(6):"?"+this.uri};c.prototype.toString=c.prototype.toNT;c.prototype.classOrder=7;b.prototype.variable=function(a){return new c(a)};c.prototype.hashString=c.prototype.toNT;b.prototype.fromNT=function(a){var b=a.length,c=a.slice(0,1);if("\x3c"==
c)return this.sym(a.slice(1,b-1));if("_"==c)return b=new e,b.id=parseInt(a.slice(3)),l--,b;alert("Can't yet convert from NT: '"+a+"', "+a[0])};return{RDFSymbol:h,RDFFormula:b,RDFBlankNode:e,RDFLiteral:g}});
//# sourceMappingURL=terms.js.map