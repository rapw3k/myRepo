//>>built
require({cache:{"rdforms/formulator/StoreManager":function(){define("dojo/_base/declare dojo/_base/lang dojo/request/xhr dojo/on dojo/dom-class dojo/dom-construct dojo/dom-attr dojo/_base/array dojo/json dijit/registry dijit/layout/_LayoutWidget dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dojo/dnd/Source dijit/tree/dndSource dijit/Tree dijit/Menu dijit/MenuItem dijit/MenuSeparator dijit/layout/ContentPane dijit/layout/TabContainer dijit/layout/BorderContainer dijit/form/Button ./ItemEditor ./ItemTreeModel ./ChoicesEditor ../template/Bundle ../template/Group ../template/Choice ../apps/Experiment dojo/text!./StoreManagerTemplate.html".split(" "),
function(g,c,d,h,k,e,a,b,f,l,n,m,q,r,p,s,v,u,w,x,z,H,G,C,A,B,t,D,E,y,F){return g([n,m,q],{itemStore:null,templateString:F,postCreate:function(){this.inherited("postCreate",arguments);this.itemStore.automaticSortAllowed=!1;this._buildTree()},startup:function(){this.inherited("startup",arguments);this._tabsDijit.watch("selectedChildWidget",c.hitch(this,function(a,b,p){p===this._itemEditorTab?this._showEditor():p===this._choicesTab?this._showChoices():this._showContent()}));(this.saveDisabled||b.every(this.itemStore.getBundles(),
function(a){return a.isReadOnly()}))&&this._saveAllButton.set("disabled",!0)},resize:function(){this.inherited("resize",arguments);this._bcDijit&&this._bcDijit.resize()},itemChanged:function(){this.tree.get("model").onChange(this.item);this._showContent()},_buildTree:function(){var a=this.itemStore,b=new A(a);this.tree=new s({showRoot:!1,model:b,dndController:p,checkItemAcceptance:function(p,f,c){p=l.getEnclosingWidget(p);var s=f.getSelectedTreeNodes()[0];if(p.item===a)return!1;f=s.item;s=s.getParent().item;
c="over"===c?p.item:p.getParent().item;return!(c instanceof D||c instanceof t)?!1:"N"!==b.getPasteAction(f,s,c)[0]},betweenThreshold:5,getRowClass:function(b){return b===a?"readOnly":(b instanceof t?b:b.getBundle()).isReadOnly()?"readOnly":"editable"},getIconClass:function(a,b){return!a||this.model.mayHaveChildren(a)?b?"dijitFolderOpened":"dijitFolderClosed":a instanceof E?"dijitIconConnector":"dijitLeaf"},onClick:c.hitch(this,function(a){null!=this._editor&&this._editor.destroy();this.item=a;this._showEditor();
this._showContent();this._showChoices()})},e.create("div",null,this._treeNode));this.tree.startup();this.menu&&this.menu.destroy();this.menu=new v({targetNodeIds:[this.tree.id],selector:".dijitTreeNode"});var f=c.hitch(this,function(b,p){if((b.item instanceof t?b.item:b.item.getBundle()).isReadOnly())alert("Cannot perform operation on read-only item.");else{var f=null==p;f&&(p=c.clone(b.item.getSource(!0)),delete p.id);b.item===a||b.item instanceof t?(p.id=""+(new Date).getTime(),this.__newItem(p,
b.item)):b.getParent().item instanceof t&&!(b.item instanceof D)?(p.id=""+(new Date).getTime(),this.__newItem(p,b.getParent().item)):b.item instanceof D&&!f?this.__newItem(p,b.item):(f=b.getParent().item,this.__newItem(p,f,f.getChildren().indexOf(b.item)+1))}});this.menu.addChild(new u({label:"New TextItem",iconClass:"dijitIconFile",onClick:function(){f(l.byNode(this.getParent().currentTarget),{type:"text",nodetype:"LITERAL"})}}));this.menu.addChild(new u({label:"New ChoiceItem",iconClass:"dijitIconConnector",
onClick:function(){f(l.byNode(this.getParent().currentTarget),{type:"choice",nodetype:"URI"})}}));this.menu.addChild(new u({label:"New GroupItem",iconClass:"dijitFolderOpened",onClick:function(){f(l.byNode(this.getParent().currentTarget),{type:"group",nodetype:"RESOURCE"})}}));this.menu.addChild(new u({label:"Clone Item",iconClass:"dijitFolderOpened",onClick:function(){f(l.byNode(this.getParent().currentTarget))}}));this.menu.addChild(new w);var m=c.hitch(this,function(b){b.item===a||b.item instanceof
t?alert("Cannot remove root or bundles!"):b.getParent().item instanceof t?b.item.getBundle().isReadOnly()?alert("Cannot remove read-only items."):(this.tree.get("model").removeItem(b.item,b.getParent().item),this.itemStore.removeItem(b.item)):b.getParent().item.getBundle().isReadOnly()?alert("Cannot remove read-only items."):this.tree.get("model").removeItem(b.item,b.getParent().item)});this.menu.addChild(new u({label:"Remove item",iconClass:"dijitEditorIcon dijitEditorIconDelete",onClick:function(){m(l.byNode(this.getParent().currentTarget))}}));
this.menu.startup()},_saveTemplates:function(){b.forEach(this.itemStore.getBundles(),function(a){a.isReadOnly()||d.put(a.getPath(),{data:f.stringify(a.getSource(),!0,"  "),headers:{"content-type":"application/json"}})})},_showEditor:function(){null!=this._editor&&this._editor.destroy();null!=this.item&&!(this.item instanceof t)&&(this._editor=new C({item:this.item,itemStore:this.itemStore,storeManager:this},e.create("div",null,this._editorNode)))},__newItem:function(a,b,p){b===this.itemStore||null==
b?(b=this.itemStore,a=this.itemStore.createItem(a,!1,!1,this.itemStore.getBundles()[0])):a=b instanceof t?this.itemStore.createItem(a,!1,!1,b):this.itemStore.createItem(a,!1,!0,b.getBundle());this.tree.get("model").newItem(a,b,p);b=this.tree.getNodesByItem(a)[0];b.getParent().expand();this.tree.focusNode(b);this.tree.set("selectedItem",a);this.item=a;this._showEditor();this._showContent();this._showChoices()},_showContent:function(){a.set(this._contentsNode,"value",f.stringify(this.item.getSource(!0),
!0,"  "));null!=this._editorDijit&&this._editorDijit.destroy();if(!(this.item instanceof t)){var b;b=this.item.getChildren?this.item:this.itemStore.createTemplateFromChildren([this.item]);this._editorDijit=new y({gutters:!1,hideTemplate:!0,template:b,graphObj:this.data},e.create("div",null,this._previewNode));this._editorDijit.startup();this._bcDijit.resize()}},_showChoices:function(){this._choicesEditor&&this._choicesEditor.destroy();this.item instanceof E&&(this._choicesEditor=new B({item:this.item},
e.create("div",null,this._choicesNode)),this._choicesEditor.onChange=c.hitch(this,this._showContent),this._choicesEditor.startup(),this._choicesEditor.resize())},_showAll:function(){var p=[];b.forEach(this.itemStore.getItems(),function(a){p.push(a.getSource(!0))},this);var c=f.stringify(p,!0,"  ");a.set(this._contentsNode,"value",c);null!=this._editorDijit&&this._editorDijit.destroy()}})})},"dojo/dnd/Source":function(){define("../_base/array ../_base/declare ../_base/kernel ../_base/lang ../dom-class ../dom-geometry ../mouse ../ready ../topic ./common ./Selector ./Manager".split(" "),
function(g,c,d,h,k,e,a,b,f,l,n,m){d.isAsync||b(0,function(){require(["dojo/dnd/AutoSource","dojo/dnd/Target"])});var q=c("dojo.dnd.Source",n,{isSource:!0,horizontal:!1,copyOnly:!1,selfCopy:!1,selfAccept:!0,skipForm:!1,withHandles:!1,autoSync:!1,delay:0,accept:["text"],generateText:!0,constructor:function(a,b){h.mixin(this,h.mixin({},b));var c=this.accept;if(c.length){this.accept={};for(var l=0;l<c.length;++l)this.accept[c[l]]=1}this.mouseDown=this.isDragging=!1;this.targetBox=this.targetAnchor=null;
this.before=!0;this._lastY=this._lastX=0;this.sourceState="";this.isSource&&k.add(this.node,"dojoDndSource");this.targetState="";this.accept&&k.add(this.node,"dojoDndTarget");this.horizontal&&k.add(this.node,"dojoDndHorizontal");this.topics=[f.subscribe("/dnd/source/over",h.hitch(this,"onDndSourceOver")),f.subscribe("/dnd/start",h.hitch(this,"onDndStart")),f.subscribe("/dnd/drop",h.hitch(this,"onDndDrop")),f.subscribe("/dnd/cancel",h.hitch(this,"onDndCancel"))]},checkAcceptance:function(a,b){if(this==
a)return!this.copyOnly||this.selfAccept;for(var f=0;f<b.length;++f){for(var c=a.getItem(b[f].id).type,l=!1,m=0;m<c.length;++m)if(c[m]in this.accept){l=!0;break}if(!l)return!1}return!0},copyState:function(a,b){if(a)return!0;2>arguments.length&&(b=this==m.manager().target);if(b){if(this.copyOnly)return this.selfCopy}else return this.copyOnly;return!1},destroy:function(){q.superclass.destroy.call(this);g.forEach(this.topics,function(a){a.remove()});this.targetAnchor=null},onMouseMove:function(a){if(!(this.isDragging&&
"Disabled"==this.targetState)){q.superclass.onMouseMove.call(this,a);var b=m.manager();if(!this.isDragging&&this.mouseDown&&this.isSource&&(Math.abs(a.pageX-this._lastX)>this.delay||Math.abs(a.pageY-this._lastY)>this.delay)){var f=this.getSelectedNodes();f.length&&b.startDrag(this,f,this.copyState(l.getCopyKeyState(a),!0))}if(this.isDragging){f=!1;if(this.current){if(!this.targetBox||this.targetAnchor!=this.current)this.targetBox=e.position(this.current,!0);f=this.horizontal?a.pageX-this.targetBox.x<
this.targetBox.w/2==e.isBodyLtr(this.current.ownerDocument):a.pageY-this.targetBox.y<this.targetBox.h/2}if(this.current!=this.targetAnchor||f!=this.before)this._markTargetAnchor(f),b.canDrop(!this.current||b.source!=this||!(this.current.id in this.selection))}}},onMouseDown:function(a){if(!this.mouseDown&&this._legalMouseDown(a)&&(!this.skipForm||!l.isFormElement(a)))this.mouseDown=!0,this._lastX=a.pageX,this._lastY=a.pageY,q.superclass.onMouseDown.call(this,a)},onMouseUp:function(a){this.mouseDown&&
(this.mouseDown=!1,q.superclass.onMouseUp.call(this,a))},onDndSourceOver:function(a){this!==a?(this.mouseDown=!1,this.targetAnchor&&this._unmarkTargetAnchor()):this.isDragging&&(a=m.manager(),a.canDrop("Disabled"!=this.targetState&&(!this.current||a.source!=this||!(this.current.id in this.selection))))},onDndStart:function(a,b,f){this.autoSync&&this.sync();this.isSource&&this._changeState("Source",this==a?f?"Copied":"Moved":"");b=this.accept&&this.checkAcceptance(a,b);this._changeState("Target",b?
"":"Disabled");this==a&&m.manager().overSource(this);this.isDragging=!0},onDndDrop:function(a,b,f,c){if(this==c)this.onDrop(a,b,f);this.onDndCancel()},onDndCancel:function(){this.targetAnchor&&(this._unmarkTargetAnchor(),this.targetAnchor=null);this.before=!0;this.mouseDown=this.isDragging=!1;this._changeState("Source","");this._changeState("Target","")},onDrop:function(a,b,f){if(this!=a)this.onDropExternal(a,b,f);else this.onDropInternal(b,f)},onDropExternal:function(a,b,f){var c=this._normalizedCreator;
this._normalizedCreator=this.creator?function(b,f){return c.call(this,a.getItem(b.id).data,f)}:f?function(b){var f=a.getItem(b.id);b=b.cloneNode(!0);b.id=l.getUniqueId();return{node:b,data:f.data,type:f.type}}:function(b){var f=a.getItem(b.id);a.delItem(b.id);return{node:b,data:f.data,type:f.type}};this.selectNone();!f&&!this.creator&&a.selectNone();this.insertNodes(!0,b,this.before,this.current);!f&&this.creator&&a.deleteSelectedNodes();this._normalizedCreator=c},onDropInternal:function(a,b){var f=
this._normalizedCreator;if(!(this.current&&this.current.id in this.selection)){if(b)this._normalizedCreator=this.creator?function(a,b){return f.call(this,this.getItem(a.id).data,b)}:function(a){var b=this.getItem(a.id);a=a.cloneNode(!0);a.id=l.getUniqueId();return{node:a,data:b.data,type:b.type}};else{if(!this.current)return;this._normalizedCreator=function(a){var b=this.getItem(a.id);return{node:a,data:b.data,type:b.type}}}this._removeSelection();this.insertNodes(!0,a,this.before,this.current);this._normalizedCreator=
f}},onDraggingOver:function(){},onDraggingOut:function(){},onOverEvent:function(){q.superclass.onOverEvent.call(this);m.manager().overSource(this);if(this.isDragging&&"Disabled"!=this.targetState)this.onDraggingOver()},onOutEvent:function(){q.superclass.onOutEvent.call(this);m.manager().outSource(this);if(this.isDragging&&"Disabled"!=this.targetState)this.onDraggingOut()},_markTargetAnchor:function(a){this.current==this.targetAnchor&&this.before==a||(this.targetAnchor&&this._removeItemClass(this.targetAnchor,
this.before?"Before":"After"),this.targetAnchor=this.current,this.targetBox=null,this.before=a,this.targetAnchor&&this._addItemClass(this.targetAnchor,this.before?"Before":"After"))},_unmarkTargetAnchor:function(){this.targetAnchor&&(this._removeItemClass(this.targetAnchor,this.before?"Before":"After"),this.targetBox=this.targetAnchor=null,this.before=!0)},_markDndStatus:function(a){this._changeState("Source",a?"Copied":"Moved")},_legalMouseDown:function(b){if("touchstart"!=b.type&&!a.isLeft(b))return!1;
if(!this.withHandles)return!0;for(b=b.target;b&&b!==this.node;b=b.parentNode){if(k.contains(b,"dojoDndHandle"))return!0;if(k.contains(b,"dojoDndItem")||k.contains(b,"dojoDndIgnore"))break}return!1}});return q})},"dojo/dnd/Selector":function(){define("../_base/array ../_base/declare ../_base/kernel ../_base/lang ../dom ../dom-construct ../mouse ../_base/NodeList ../on ../touch ./common ./Container".split(" "),function(g,c,d,h,k,e,a,b,f,l,n,m){var q=c("dojo.dnd.Selector",m,{constructor:function(a,b){b||
(b={});this.singular=b.singular;this.autoSync=b.autoSync;this.selection={};this.anchor=null;this.simpleSelection=!1;this.events.push(f(this.node,l.press,h.hitch(this,"onMouseDown")),f(this.node,l.release,h.hitch(this,"onMouseUp")))},singular:!1,getSelectedNodes:function(){var a=new b,f=n._empty,c;for(c in this.selection)c in f||a.push(k.byId(c));return a},selectNone:function(){return this._removeSelection()._removeAnchor()},selectAll:function(){this.forInItems(function(a,b){this._addItemClass(k.byId(b),
"Selected");this.selection[b]=1},this);return this._removeAnchor()},deleteSelectedNodes:function(){var a=n._empty,b;for(b in this.selection)if(!(b in a)){var f=k.byId(b);this.delItem(b);e.destroy(f)}this.anchor=null;this.selection={};return this},forInSelectedItems:function(a,b){b=b||d.global;var f=this.selection,c=n._empty,l;for(l in f)l in c||a.call(b,this.getItem(l),l,this)},sync:function(){q.superclass.sync.call(this);this.anchor&&!this.getItem(this.anchor.id)&&(this.anchor=null);var a=[],b=n._empty,
f;for(f in this.selection)f in b||this.getItem(f)||a.push(f);g.forEach(a,function(a){delete this.selection[a]},this);return this},insertNodes:function(a,b,f,c){var l=this._normalizedCreator;this._normalizedCreator=function(b,f){var p=l.call(this,b,f);a?(this.anchor?this.anchor!=p.node&&(this._removeItemClass(p.node,"Anchor"),this._addItemClass(p.node,"Selected")):(this.anchor=p.node,this._removeItemClass(p.node,"Selected"),this._addItemClass(this.anchor,"Anchor")),this.selection[p.node.id]=1):(this._removeItemClass(p.node,
"Selected"),this._removeItemClass(p.node,"Anchor"));return p};q.superclass.insertNodes.call(this,b,f,c);this._normalizedCreator=l;return this},destroy:function(){q.superclass.destroy.call(this);this.selection=this.anchor=null},onMouseDown:function(b){this.autoSync&&this.sync();if(this.current)if(!this.singular&&!n.getCopyKeyState(b)&&!b.shiftKey&&this.current.id in this.selection)this.simpleSelection=!0,a.isLeft(b)&&(b.stopPropagation(),b.preventDefault());else{if(!this.singular&&b.shiftKey){n.getCopyKeyState(b)||
this._removeSelection();var f=this.getAllNodes();if(f.length&&(this.anchor||(this.anchor=f[0],this._addItemClass(this.anchor,"Anchor")),this.selection[this.anchor.id]=1,this.anchor!=this.current)){for(var c=0,l;c<f.length&&!(l=f[c],l==this.anchor||l==this.current);++c);for(++c;c<f.length;++c){l=f[c];if(l==this.anchor||l==this.current)break;this._addItemClass(l,"Selected");this.selection[l.id]=1}this._addItemClass(this.current,"Selected");this.selection[this.current.id]=1}}else this.singular?this.anchor==
this.current?n.getCopyKeyState(b)&&this.selectNone():(this.selectNone(),this.anchor=this.current,this._addItemClass(this.anchor,"Anchor"),this.selection[this.current.id]=1):n.getCopyKeyState(b)?this.anchor==this.current?(delete this.selection[this.anchor.id],this._removeAnchor()):this.current.id in this.selection?(this._removeItemClass(this.current,"Selected"),delete this.selection[this.current.id]):(this.anchor&&(this._removeItemClass(this.anchor,"Anchor"),this._addItemClass(this.anchor,"Selected")),
this.anchor=this.current,this._addItemClass(this.current,"Anchor"),this.selection[this.current.id]=1):this.current.id in this.selection||(this.selectNone(),this.anchor=this.current,this._addItemClass(this.current,"Anchor"),this.selection[this.current.id]=1);b.stopPropagation();b.preventDefault()}},onMouseUp:function(){this.simpleSelection&&(this.simpleSelection=!1,this.selectNone(),this.current&&(this.anchor=this.current,this._addItemClass(this.anchor,"Anchor"),this.selection[this.current.id]=1))},
onMouseMove:function(){this.simpleSelection=!1},onOverEvent:function(){this.onmousemoveEvent=f(this.node,l.move,h.hitch(this,"onMouseMove"))},onOutEvent:function(){this.onmousemoveEvent&&(this.onmousemoveEvent.remove(),delete this.onmousemoveEvent)},_removeSelection:function(){var a=n._empty,b;for(b in this.selection)if(!(b in a)){var f=k.byId(b);f&&this._removeItemClass(f,"Selected")}this.selection={};return this},_removeAnchor:function(){this.anchor&&(this._removeItemClass(this.anchor,"Anchor"),
this.anchor=null);return this}});return q})},"dojo/_base/NodeList":function(){define(["./kernel","../query","./array","./html","../NodeList-dom"],function(g,c,d){c=c.NodeList;var h=c.prototype;h.connect=c._adaptAsForEach(function(){return g.connect.apply(this,arguments)});h.coords=c._adaptAsMap(g.coords);c.events="blur focus change click error keydown keypress keyup load mousedown mouseenter mouseleave mousemove mouseout mouseover mouseup submit".split(" ");d.forEach(c.events,function(c){var d="on"+
c;h[d]=function(a,b){return this.connect(d,a,b)}});return g.NodeList=c})},"dojo/_base/html":function(){define("./kernel ../dom ../dom-style ../dom-attr ../dom-prop ../dom-class ../dom-construct ../dom-geometry".split(" "),function(g,c,d,h,k,e,a,b){g.byId=c.byId;g.isDescendant=c.isDescendant;g.setSelectable=c.setSelectable;g.getAttr=h.get;g.setAttr=h.set;g.hasAttr=h.has;g.removeAttr=h.remove;g.getNodeProp=h.getNodeProp;g.attr=function(a,b,c){return 2==arguments.length?h["string"==typeof b?"get":"set"](a,
b):h.set(a,b,c)};g.hasClass=e.contains;g.addClass=e.add;g.removeClass=e.remove;g.toggleClass=e.toggle;g.replaceClass=e.replace;g._toDom=g.toDom=a.toDom;g.place=a.place;g.create=a.create;g.empty=function(b){a.empty(b)};g._destroyElement=g.destroy=function(b){a.destroy(b)};g._getPadExtents=g.getPadExtents=b.getPadExtents;g._getBorderExtents=g.getBorderExtents=b.getBorderExtents;g._getPadBorderExtents=g.getPadBorderExtents=b.getPadBorderExtents;g._getMarginExtents=g.getMarginExtents=b.getMarginExtents;
g._getMarginSize=g.getMarginSize=b.getMarginSize;g._getMarginBox=g.getMarginBox=b.getMarginBox;g.setMarginBox=b.setMarginBox;g._getContentBox=g.getContentBox=b.getContentBox;g.setContentSize=b.setContentSize;g._isBodyLtr=g.isBodyLtr=b.isBodyLtr;g._docScroll=g.docScroll=b.docScroll;g._getIeDocumentElementOffset=g.getIeDocumentElementOffset=b.getIeDocumentElementOffset;g._fixIeBiDiScrollLeft=g.fixIeBiDiScrollLeft=b.fixIeBiDiScrollLeft;g.position=b.position;g.marginBox=function(a,c){return c?b.setMarginBox(a,
c):b.getMarginBox(a)};g.contentBox=function(a,c){return c?b.setContentSize(a,c):b.getContentBox(a)};g.coords=function(a,l){g.deprecated("dojo.coords()","Use dojo.position() or dojo.marginBox().");a=c.byId(a);var h=d.getComputedStyle(a),h=b.getMarginBox(a,h),m=b.position(a,l);h.x=m.x;h.y=m.y;return h};g.getProp=k.get;g.setProp=k.set;g.prop=function(a,b,c){return 2==arguments.length?k["string"==typeof b?"get":"set"](a,b):k.set(a,b,c)};g.getStyle=d.get;g.setStyle=d.set;g.getComputedStyle=d.getComputedStyle;
g.__toPixelValue=g.toPixelValue=d.toPixelValue;g.style=function(a,b,c){switch(arguments.length){case 1:return d.get(a);case 2:return d["string"==typeof b?"get":"set"](a,b)}return d.set(a,b,c)};return g})},"dojo/dnd/Container":function(){define("../_base/array ../_base/declare ../_base/kernel ../_base/lang ../_base/window ../dom ../dom-class ../dom-construct ../Evented ../has ../on ../query ../touch ./common".split(" "),function(g,c,d,h,k,e,a,b,f,l,n,m,q,r){c=c("dojo.dnd.Container",f,{skipForm:!1,
allowNested:!1,constructor:function(b,f){this.node=e.byId(b);f||(f={});this.creator=f.creator||null;this.skipForm=f.skipForm;this.parent=f.dropParent&&e.byId(f.dropParent);this.map={};this.current=null;this.containerState="";a.add(this.node,"dojoDndContainer");(!f||!f._skipStartup)&&this.startup();this.events=[n(this.node,q.over,h.hitch(this,"onMouseOver")),n(this.node,q.out,h.hitch(this,"onMouseOut")),n(this.node,"dragstart",h.hitch(this,"onSelectStart")),n(this.node,"selectstart",h.hitch(this,"onSelectStart"))]},
creator:function(){},getItem:function(a){return this.map[a]},setItem:function(a,b){this.map[a]=b},delItem:function(a){delete this.map[a]},forInItems:function(a,b){b=b||d.global;var f=this.map,c=r._empty,l;for(l in f)l in c||a.call(b,f[l],l,this);return b},clearItems:function(){this.map={}},getAllNodes:function(){return m((this.allowNested?"":"\x3e ")+".dojoDndItem",this.parent)},sync:function(){var a={};this.getAllNodes().forEach(function(b){if(b.id){var f=this.getItem(b.id);if(f){a[b.id]=f;return}}else b.id=
r.getUniqueId();var f=b.getAttribute("dndType"),c=b.getAttribute("dndData");a[b.id]={data:c||b.innerHTML,type:f?f.split(/\s*,\s*/):["text"]}},this);this.map=a;return this},insertNodes:function(a,b,f){this.parent.firstChild?b?f||(f=this.parent.firstChild):f&&(f=f.nextSibling):f=null;var c;if(f)for(b=0;b<a.length;++b)c=this._normalizedCreator(a[b]),this.setItem(c.node.id,{data:c.data,type:c.type}),f.parentNode.insertBefore(c.node,f);else for(b=0;b<a.length;++b)c=this._normalizedCreator(a[b]),this.setItem(c.node.id,
{data:c.data,type:c.type}),this.parent.appendChild(c.node);return this},destroy:function(){g.forEach(this.events,function(a){a.remove()});this.clearItems();this.node=this.parent=this.current=null},markupFactory:function(a,b,f){a._skipStartup=!0;return new f(b,a)},startup:function(){if(!this.parent&&(this.parent=this.node,"table"==this.parent.tagName.toLowerCase())){var a=this.parent.getElementsByTagName("tbody");a&&a.length&&(this.parent=a[0])}this.defaultCreator=r._defaultCreator(this.parent);this.sync()},
onMouseOver:function(a){for(var b=a.relatedTarget;b&&b!=this.node;)try{b=b.parentNode}catch(f){b=null}b||(this._changeState("Container","Over"),this.onOverEvent());b=this._getChildByEvent(a);this.current!=b&&(this.current&&this._removeItemClass(this.current,"Over"),b&&this._addItemClass(b,"Over"),this.current=b)},onMouseOut:function(a){for(a=a.relatedTarget;a;){if(a==this.node)return;try{a=a.parentNode}catch(b){a=null}}this.current&&(this._removeItemClass(this.current,"Over"),this.current=null);this._changeState("Container",
"");this.onOutEvent()},onSelectStart:function(a){if(!this.skipForm||!r.isFormElement(a))a.stopPropagation(),a.preventDefault()},onOverEvent:function(){},onOutEvent:function(){},_changeState:function(b,f){var c="dojoDnd"+b,l=b.toLowerCase()+"State";a.replace(this.node,c+f,c+this[l]);this[l]=f},_addItemClass:function(b,f){a.add(b,"dojoDndItem"+f)},_removeItemClass:function(b,f){a.remove(b,"dojoDndItem"+f)},_getChildByEvent:function(b){if(b=b.target)for(var f=b.parentNode;f;b=f,f=b.parentNode)if((f==
this.parent||this.allowNested)&&a.contains(b,"dojoDndItem"))return b;return null},_normalizedCreator:function(b,f){var c=(this.creator||this.defaultCreator).call(this,b,f);h.isArray(c.type)||(c.type=["text"]);c.node.id||(c.node.id=r.getUniqueId());a.add(c.node,"dojoDndItem");return c}});r._createNode=function(a){return!a?r._createSpan:function(f){return b.create(a,{innerHTML:f})}};r._createTrTd=function(a){var f=b.create("tr");b.create("td",{innerHTML:a},f);return f};r._createSpan=function(a){return b.create("span",
{innerHTML:a})};r._defaultCreatorNodes={ul:"li",ol:"li",div:"div",p:"div"};r._defaultCreator=function(a){a=a.tagName.toLowerCase();var b="tbody"==a||"thead"==a?r._createTrTd:r._createNode(r._defaultCreatorNodes[a]);return function(a,f){var c=a&&h.isObject(a),l,m;c&&a.tagName&&a.nodeType&&a.getAttribute?(l=a.getAttribute("dndData")||a.innerHTML,c=(c=a.getAttribute("dndType"))?c.split(/\s*,\s*/):["text"],m=a):(l=c&&a.data?a.data:a,c=c&&a.type?a.type:["text"],m=("avatar"==f?r._createSpan:b)(String(l)));
m.id||(m.id=r.getUniqueId());return{node:m,data:l,type:c}}};return c})},"dojo/dnd/Manager":function(){define("../_base/array ../_base/declare ../_base/lang ../_base/window ../dom-class ../Evented ../has ../keys ../on ../topic ../touch ./common ./autoscroll ./Avatar".split(" "),function(g,c,d,h,k,e,a,b,f,l,n,m,q,r){var p=c("dojo.dnd.Manager",[e],{constructor:function(){this.source=this.avatar=null;this.nodes=[];this.copy=!0;this.target=null;this.canDropFlag=!1;this.events=[]},OFFSET_X:a("touch")?0:
16,OFFSET_Y:a("touch")?-64:16,overSource:function(a){this.avatar&&(this.target=a&&"Disabled"!=a.targetState?a:null,this.canDropFlag=Boolean(this.target),this.avatar.update());l.publish("/dnd/source/over",a)},outSource:function(a){this.avatar?this.target==a&&(this.target=null,this.canDropFlag=!1,this.avatar.update(),l.publish("/dnd/source/over",null)):l.publish("/dnd/source/over",null)},startDrag:function(a,b,c){function m(a){a.preventDefault();a.stopPropagation()}q.autoScrollStart(h.doc);this.source=
a;this.nodes=b;this.copy=Boolean(c);this.avatar=this.makeAvatar();h.body().appendChild(this.avatar.node);l.publish("/dnd/start",a,b,this.copy);this.events=[f(h.doc,n.move,d.hitch(this,"onMouseMove")),f(h.doc,n.release,d.hitch(this,"onMouseUp")),f(h.doc,"keydown",d.hitch(this,"onKeyDown")),f(h.doc,"keyup",d.hitch(this,"onKeyUp")),f(h.doc,"dragstart",m),f(h.body(),"selectstart",m)];k.add(h.body(),"dojoDnd"+(c?"Copy":"Move"))},canDrop:function(a){a=Boolean(this.target&&a);this.canDropFlag!=a&&(this.canDropFlag=
a,this.avatar.update())},stopDrag:function(){k.remove(h.body(),["dojoDndCopy","dojoDndMove"]);g.forEach(this.events,function(a){a.remove()});this.events=[];this.avatar.destroy();this.source=this.target=this.avatar=null;this.nodes=[]},makeAvatar:function(){return new r(this)},updateAvatar:function(){this.avatar.update()},onMouseMove:function(b){var f=this.avatar;f&&(q.autoScrollNodes(b),f=f.node.style,f.left=b.pageX+this.OFFSET_X+"px",f.top=b.pageY+this.OFFSET_Y+"px",f=Boolean(this.source.copyState(m.getCopyKeyState(b))),
this.copy!=f&&this._setCopyStatus(f));a("touch")&&b.preventDefault()},onMouseUp:function(a){if(this.avatar){if(this.target&&this.canDropFlag){var b=Boolean(this.source.copyState(m.getCopyKeyState(a)));l.publish("/dnd/drop/before",this.source,this.nodes,b,this.target,a);l.publish("/dnd/drop",this.source,this.nodes,b,this.target,a)}else l.publish("/dnd/cancel");this.stopDrag()}},onKeyDown:function(a){if(this.avatar)switch(a.keyCode){case b.CTRL:a=Boolean(this.source.copyState(!0));this.copy!=a&&this._setCopyStatus(a);
break;case b.ESCAPE:l.publish("/dnd/cancel"),this.stopDrag()}},onKeyUp:function(a){this.avatar&&a.keyCode==b.CTRL&&(a=Boolean(this.source.copyState(!1)),this.copy!=a&&this._setCopyStatus(a))},_setCopyStatus:function(a){this.copy=a;this.source._markDndStatus(this.copy);this.updateAvatar();k.replace(h.body(),"dojoDnd"+(this.copy?"Copy":"Move"),"dojoDnd"+(this.copy?"Move":"Copy"))}});m._manager=null;p.manager=m.manager=function(){m._manager||(m._manager=new p);return m._manager};return p})},"dojo/dnd/Avatar":function(){define("../_base/declare ../_base/window ../dom ../dom-attr ../dom-class ../dom-construct ../hccss ../query".split(" "),
function(g,c,d,h,k,e,a,b){return g("dojo.dnd.Avatar",null,{constructor:function(a){this.manager=a;this.construct()},construct:function(){var b=e.create("table",{"class":"dojoDndAvatar",style:{position:"absolute",zIndex:"1999",margin:"0px"}}),c=this.manager.source,d,m=e.create("tbody",null,b),q=e.create("tr",null,m),k=e.create("td",null,q),p=Math.min(5,this.manager.nodes.length),g=0;a("highcontrast")&&e.create("span",{id:"a11yIcon",innerHTML:this.manager.copy?"+":"\x3c"},k);e.create("span",{innerHTML:c.generateText?
this._generateText():""},k);for(h.set(q,{"class":"dojoDndAvatarHeader",style:{opacity:0.9}});g<p;++g)c.creator?d=c._normalizedCreator(c.getItem(this.manager.nodes[g].id).data,"avatar").node:(d=this.manager.nodes[g].cloneNode(!0),"tr"==d.tagName.toLowerCase()&&(q=e.create("table"),e.create("tbody",null,q).appendChild(d),d=q)),d.id="",q=e.create("tr",null,m),k=e.create("td",null,q),k.appendChild(d),h.set(q,{"class":"dojoDndAvatarItem",style:{opacity:(9-g)/10}});this.node=b},destroy:function(){e.destroy(this.node);
this.node=!1},update:function(){k.toggle(this.node,"dojoDndAvatarCanDrop",this.manager.canDropFlag);if(a("highcontrast")){var f=d.byId("a11yIcon"),c="+";this.manager.canDropFlag&&!this.manager.copy?c="\x3c ":!this.manager.canDropFlag&&!this.manager.copy?c="o":this.manager.canDropFlag||(c="x");f.innerHTML=c}b("tr.dojoDndAvatarHeader td span"+(a("highcontrast")?" span":""),this.node).forEach(function(a){a.innerHTML=this.manager.source.generateText?this._generateText():""},this)},_generateText:function(){return this.manager.nodes.length.toString()}})})},
"dijit/tree/dndSource":function(){define("dojo/_base/array dojo/_base/connect dojo/_base/declare dojo/dom-class dojo/dom-geometry dojo/_base/lang dojo/on dojo/touch dojo/topic dojo/dnd/Manager ./_dndSelector".split(" "),function(g,c,d,h,k,e,a,b,f,l,n){return d("dijit.tree.dndSource",n,{isSource:!0,accept:["text","treeNode"],copyOnly:!1,dragThreshold:5,betweenThreshold:0,generateText:!0,constructor:function(a,b){b||(b={});e.mixin(this,b);var c=b.accept instanceof Array?b.accept:["text","treeNode"];
this.accept=null;if(c.length){this.accept={};for(var l=0;l<c.length;++l)this.accept[c[l]]=1}this.mouseDown=this.isDragging=!1;this.targetBox=this.targetAnchor=null;this.dropPosition="";this._lastY=this._lastX=0;this.sourceState="";this.isSource&&h.add(this.node,"dojoDndSource");this.targetState="";this.accept&&h.add(this.node,"dojoDndTarget");this.topics=[f.subscribe("/dnd/source/over",e.hitch(this,"onDndSourceOver")),f.subscribe("/dnd/start",e.hitch(this,"onDndStart")),f.subscribe("/dnd/drop",e.hitch(this,
"onDndDrop")),f.subscribe("/dnd/cancel",e.hitch(this,"onDndCancel"))]},checkAcceptance:function(){return!0},copyState:function(a){return this.copyOnly||a},destroy:function(){this.inherited(arguments);for(var a;a=this.topics.pop();)a.remove();this.targetAnchor=null},_onDragMouse:function(a,b){var f=l.manager(),c=this.targetAnchor,d=this.current,h=this.dropPosition,e="Over";if(d&&0<this.betweenThreshold){if(!this.targetBox||c!=d)this.targetBox=k.position(d.rowNode,!0);a.pageY-this.targetBox.y<=this.betweenThreshold?
e="Before":a.pageY-this.targetBox.y>=this.targetBox.h-this.betweenThreshold&&(e="After")}if(b||d!=c||e!=h){c&&this._removeItemClass(c.rowNode,h);d&&this._addItemClass(d.rowNode,e);if(d)if(d==this.tree.rootNode&&"Over"!=e)f.canDrop(!1);else{c=!1;if(f.source==this)for(var n in this.selection)if(this.selection[n].item===d.item){c=!0;break}c?f.canDrop(!1):this.checkItemAcceptance(d.rowNode,f.source,e.toLowerCase())&&!this._isParentChildDrop(f.source,d.rowNode)?f.canDrop(!0):f.canDrop(!1)}else f.canDrop(!1);
this.targetAnchor=d;this.dropPosition=e}},onMouseMove:function(a){if(!(this.isDragging&&"Disabled"==this.targetState)){this.inherited(arguments);var b=l.manager();if(this.isDragging)this._onDragMouse(a);else if(this.mouseDown&&this.isSource&&(Math.abs(a.pageX-this._lastX)>=this.dragThreshold||Math.abs(a.pageY-this._lastY)>=this.dragThreshold)){var f=this.getSelectedTreeNodes();if(f.length){if(1<f.length){var d=this.selection,h=0,k=[],e,n;a:for(;e=f[h++];){for(n=e.getParent();n&&n!==this.tree;n=n.getParent())if(d[n.id])continue a;
k.push(e)}f=k}f=g.map(f,function(a){return a.domNode});b.startDrag(this,f,this.copyState(c.isCopyKey(a)));this._onDragMouse(a,!0)}}}},onMouseDown:function(a){this.mouseDown=!0;this.mouseButton=a.button;this._lastX=a.pageX;this._lastY=a.pageY;this.inherited(arguments)},onMouseUp:function(a){this.mouseDown&&(this.mouseDown=!1,this.inherited(arguments))},onMouseOut:function(){this.inherited(arguments);this._unmarkTargetAnchor()},checkItemAcceptance:function(){return!0},onDndSourceOver:function(a){this!=
a?(this.mouseDown=!1,this._unmarkTargetAnchor()):this.isDragging&&l.manager().canDrop(!1)},onDndStart:function(a,b,f){this.isSource&&this._changeState("Source",this==a?f?"Copied":"Moved":"");b=this.checkAcceptance(a,b);this._changeState("Target",b?"":"Disabled");this==a&&l.manager().overSource(this);this.isDragging=!0},itemCreator:function(a){return g.map(a,function(a){return{id:a.id,name:a.textContent||a.innerText||""}})},onDndDrop:function(a,b,f){if("Over"==this.containerState){var c=this.tree,
l=c.model,d=this.targetAnchor;this.isDragging=!1;var h,e,k;h=d&&d.item||c.item;"Before"==this.dropPosition||"After"==this.dropPosition?(h=d.getParent()&&d.getParent().item||c.item,e=d.getIndexInParent(),"After"==this.dropPosition?(e=d.getIndexInParent()+1,k=d.getNextSibling()&&d.getNextSibling().item):k=d.item):h=d&&d.item||c.item;var n;g.forEach(b,function(c,p){var C=a.getItem(c.id);if(-1!=g.indexOf(C.type,"treeNode"))var A=C.data,B=A.item,t=A.getParent().item;a==this?("number"==typeof e&&h==t&&
A.getIndexInParent()<e&&(e-=1),l.pasteItem(B,t,h,f,e,k)):l.isItem(B)?l.pasteItem(B,t,h,f,e,k):(n||(n=this.itemCreator(b,d.rowNode,a)),l.newItem(n[p],h,e,k))},this);this.tree._expandNode(d)}this.onDndCancel()},onDndCancel:function(){this._unmarkTargetAnchor();this.mouseDown=this.isDragging=!1;delete this.mouseButton;this._changeState("Source","");this._changeState("Target","")},onOverEvent:function(){this.inherited(arguments);l.manager().overSource(this)},onOutEvent:function(){this._unmarkTargetAnchor();
var a=l.manager();this.isDragging&&a.canDrop(!1);a.outSource(this);this.inherited(arguments)},_isParentChildDrop:function(a,b){if(!a.tree||a.tree!=this.tree)return!1;for(var f=a.tree.domNode,c=a.selection,l=b.parentNode;l!=f&&!c[l.id];)l=l.parentNode;return l.id&&c[l.id]},_unmarkTargetAnchor:function(){this.targetAnchor&&(this._removeItemClass(this.targetAnchor.rowNode,this.dropPosition),this.dropPosition=this.targetBox=this.targetAnchor=null)},_markDndStatus:function(a){this._changeState("Source",
a?"Copied":"Moved")}})})},"dijit/Menu":function(){define("require dojo/_base/array dojo/_base/declare dojo/dom dojo/dom-attr dojo/dom-geometry dojo/dom-style dojo/keys dojo/_base/lang dojo/on dojo/sniff dojo/_base/window dojo/window ./popup ./DropDownMenu dojo/ready".split(" "),function(g,c,d,h,k,e,a,b,f,l,n,m,q,r,p,s){n("dijit-legacy-requires")&&s(0,function(){g(["dijit/MenuItem","dijit/PopupMenuItem","dijit/CheckedMenuItem","dijit/MenuSeparator"])});return d("dijit.Menu",p,{constructor:function(){this._bindings=
[]},targetNodeIds:[],selector:"",contextMenuForWindow:!1,leftClickToOpen:!1,refocus:!0,postCreate:function(){this.contextMenuForWindow?this.bindDomNode(this.ownerDocumentBody):c.forEach(this.targetNodeIds,this.bindDomNode,this);this.inherited(arguments)},_iframeContentWindow:function(a){return q.get(this._iframeContentDocument(a))||this._iframeContentDocument(a).__parent__||a.name&&document.frames[a.name]||null},_iframeContentDocument:function(a){return a.contentDocument||a.contentWindow&&a.contentWindow.document||
a.name&&document.frames[a.name]&&document.frames[a.name].document||null},bindDomNode:function(a){a=h.byId(a,this.ownerDocument);var c;if("iframe"==a.tagName.toLowerCase()){var d=a;c=this._iframeContentWindow(d);c=m.body(c.document)}else c=a==m.body(this.ownerDocument)?this.ownerDocument.documentElement:a;var e={node:a,iframe:d};k.set(a,"_dijitMenu"+this.id,this._bindings.push(e));var p=f.hitch(this,function(a){var f=this.selector,c=f?function(a){return l.selector(f,a)}:function(a){return a},e=this;
return[l(a,c(this.leftClickToOpen?"click":"contextmenu"),function(a){a.stopPropagation();a.preventDefault();e._scheduleOpen(this,d,{x:a.pageX,y:a.pageY})}),l(a,c("keydown"),function(a){a.shiftKey&&a.keyCode==b.F10&&(a.stopPropagation(),a.preventDefault(),e._scheduleOpen(this,d))})]});e.connects=c?p(c):[];d&&(e.onloadHandler=f.hitch(this,function(){var a=this._iframeContentWindow(d),a=m.body(a.document);e.connects=p(a)}),d.addEventListener?d.addEventListener("load",e.onloadHandler,!1):d.attachEvent("onload",
e.onloadHandler))},unBindDomNode:function(a){var b;try{b=h.byId(a,this.ownerDocument)}catch(f){return}a="_dijitMenu"+this.id;if(b&&k.has(b,a)){for(var c=k.get(b,a)-1,l=this._bindings[c],d;d=l.connects.pop();)d.remove();(d=l.iframe)&&(d.removeEventListener?d.removeEventListener("load",l.onloadHandler,!1):d.detachEvent("onload",l.onloadHandler));k.remove(b,a);delete this._bindings[c]}},_scheduleOpen:function(a,b,f){this._openTimer||(this._openTimer=this.defer(function(){delete this._openTimer;this._openMyself({target:a,
iframe:b,coords:f})},1))},_openMyself:function(b){function f(){g.refocus&&s&&s.focus();r.close(g)}var c=b.target,l=b.iframe;b=b.coords;var d=!b;this.currentTarget=c;if(b){if(l){var c=e.position(l,!0),p=this._iframeContentWindow(l),p=e.docScroll(p.document),k=a.getComputedStyle(l),m=a.toPixelValue,q=(n("ie")&&n("quirks")?0:m(l,k.paddingLeft))+(n("ie")&&n("quirks")?m(l,k.borderLeftWidth):0),l=(n("ie")&&n("quirks")?0:m(l,k.paddingTop))+(n("ie")&&n("quirks")?m(l,k.borderTopWidth):0);b.x+=c.x+q-p.x;b.y+=
c.y+l-p.y}}else b=e.position(c,!0),b.x+=10,b.y+=10;var g=this,l=this._focusManager.get("prevNode"),c=this._focusManager.get("curNode"),s=!c||h.isDescendant(c,this.domNode)?l:c;r.open({popup:this,x:b.x,y:b.y,onExecute:f,onCancel:f,orient:this.isLeftToRight()?"L":"R"});this.focus();d||this.defer(function(){this._cleanUp(!0)});this._onBlur=function(){this.inherited("_onBlur",arguments);r.close(this)}},destroy:function(){c.forEach(this._bindings,function(a){a&&this.unBindDomNode(a.node)},this);this.inherited(arguments)}})})},
"dijit/layout/TabContainer":function(){define(["dojo/_base/lang","dojo/_base/declare","./_TabContainerBase","./TabController","./ScrollingTabController"],function(g,c,d,h,k){return c("dijit.layout.TabContainer",d,{useMenu:!0,useSlider:!0,controllerWidget:"",_makeController:function(c){var a=this.baseClass+"-tabs"+(this.doLayout?"":" dijitTabNoLayout");return new ("string"==typeof this.controllerWidget?g.getObject(this.controllerWidget):this.controllerWidget)({id:this.id+"_tablist",ownerDocument:this.ownerDocument,
dir:this.dir,lang:this.lang,textDir:this.textDir,tabPosition:this.tabPosition,doLayout:this.doLayout,containerId:this.id,"class":a,nested:this.nested,useMenu:this.useMenu,useSlider:this.useSlider,tabStripClass:this.tabStrip?this.baseClass+(this.tabStrip?"":"No")+"Strip":null},c)},postMixInProperties:function(){this.inherited(arguments);this.controllerWidget||(this.controllerWidget=("top"==this.tabPosition||"bottom"==this.tabPosition)&&!this.nested?k:h)}})})},"dijit/layout/_TabContainerBase":function(){define("dojo/text!./templates/TabContainer.html ./StackContainer ./utils ../_TemplatedMixin dojo/_base/declare dojo/dom-class dojo/dom-geometry dojo/dom-style".split(" "),
function(g,c,d,h,k,e,a,b){return k("dijit.layout._TabContainerBase",[c,h],{tabPosition:"top",baseClass:"dijitTabContainer",tabStrip:!1,nested:!1,templateString:g,postMixInProperties:function(){this.baseClass+=this.tabPosition.charAt(0).toUpperCase()+this.tabPosition.substr(1).replace(/-.*/,"");this.srcNodeRef&&b.set(this.srcNodeRef,"visibility","hidden");this.inherited(arguments)},buildRendering:function(){this.inherited(arguments);this.tablist=this._makeController(this.tablistNode);this.doLayout||
e.add(this.domNode,"dijitTabContainerNoLayout");this.nested?(e.add(this.domNode,"dijitTabContainerNested"),e.add(this.tablist.containerNode,"dijitTabContainerTabListNested"),e.add(this.tablistSpacer,"dijitTabContainerSpacerNested"),e.add(this.containerNode,"dijitTabPaneWrapperNested")):e.add(this.domNode,"tabStrip-"+(this.tabStrip?"enabled":"disabled"))},_setupChild:function(a){e.add(a.domNode,"dijitTabPane");this.inherited(arguments)},startup:function(){this._started||(this.tablist.startup(),this.inherited(arguments))},
layout:function(){if(this._contentBox&&"undefined"!=typeof this._contentBox.l){var b=this.selectedChildWidget;if(this.doLayout){var c=this.tabPosition.replace(/-h/,"");this.tablist.region=c;c=[this.tablist,{domNode:this.tablistSpacer,region:c},{domNode:this.containerNode,region:"center"}];d.layoutChildren(this.domNode,this._contentBox,c);this._containerContentBox=d.marginBox2contentBox(this.containerNode,c[2]);b&&b.resize&&b.resize(this._containerContentBox)}else{if(this.tablist.resize){c=this.tablist.domNode.style;
c.width="0";var e=a.getContentBox(this.domNode).w;c.width="";this.tablist.resize({w:e})}b&&b.resize&&b.resize()}}},destroy:function(a){this.tablist&&this.tablist.destroy(a);this.inherited(arguments)}})})},"dijit/layout/StackContainer":function(){define("dojo/_base/array dojo/cookie dojo/_base/declare dojo/dom-class dojo/dom-construct dojo/has dojo/_base/lang dojo/on dojo/ready dojo/topic dojo/when ../registry ../_WidgetBase ./_LayoutWidget dojo/i18n!../nls/common".split(" "),function(g,c,d,h,k,e,
a,b,f,l,n,m,q,r){e("dijit-legacy-requires")&&f(0,function(){require(["dijit/layout/StackController"])});d=d("dijit.layout.StackContainer",r,{doLayout:!0,persist:!1,baseClass:"dijitStackContainer",buildRendering:function(){this.inherited(arguments);h.add(this.domNode,"dijitLayoutContainer")},postCreate:function(){this.inherited(arguments);this.own(b(this.domNode,"keydown",a.hitch(this,"_onKeyDown")))},startup:function(){if(!this._started){var a=this.getChildren();g.forEach(a,this._setupChild,this);
this.persist?this.selectedChildWidget=m.byId(c(this.id+"_selectedChild")):g.some(a,function(a){a.selected&&(this.selectedChildWidget=a);return a.selected},this);var b=this.selectedChildWidget;!b&&a[0]&&(b=this.selectedChildWidget=a[0],b.selected=!0);l.publish(this.id+"-startup",{children:a,selected:b,textDir:this.textDir});this.inherited(arguments)}},resize:function(){if(!this._hasBeenShown){this._hasBeenShown=!0;var a=this.selectedChildWidget;a&&this._showChild(a)}this.inherited(arguments)},_setupChild:function(a){var b=
a.domNode,f=k.place("\x3cdiv role\x3d'tabpanel' class\x3d'"+this.baseClass+"ChildWrapper dijitHidden'\x3e",a.domNode,"replace"),c=a["aria-label"]||a.title||a.label;c&&f.setAttribute("aria-label",c);k.place(b,f);a._wrapper=f;this.inherited(arguments);"none"==b.style.display&&(b.style.display="block");a.domNode.title=""},addChild:function(a,b){this.inherited(arguments);this._started&&(l.publish(this.id+"-addChild",a,b),this.layout(),this.selectedChildWidget||this.selectChild(a))},removeChild:function(a){var b=
g.indexOf(this.getChildren(),a);this.inherited(arguments);k.destroy(a._wrapper);delete a._wrapper;this._started&&l.publish(this.id+"-removeChild",a);if(!this._descendantsBeingDestroyed){if(this.selectedChildWidget===a&&(this.selectedChildWidget=void 0,this._started)){var f=this.getChildren();f.length&&this.selectChild(f[Math.max(b-1,0)])}this._started&&this.layout()}},selectChild:function(a,b){var f;a=m.byId(a);this.selectedChildWidget!=a&&(f=this._transition(a,this.selectedChildWidget,b),this._set("selectedChildWidget",
a),l.publish(this.id+"-selectChild",a),this.persist&&c(this.id+"_selectedChild",this.selectedChildWidget.id));return n(f||!0)},_transition:function(a,b){b&&this._hideChild(b);var f=this._showChild(a);a.resize&&(this.doLayout?a.resize(this._containerContentBox||this._contentBox):a.resize());return f},_adjacent:function(a){var b=this.getChildren(),f=g.indexOf(b,this.selectedChildWidget),f=f+(a?1:b.length-1);return b[f%b.length]},forward:function(){return this.selectChild(this._adjacent(!0),!0)},back:function(){return this.selectChild(this._adjacent(!1),
!0)},_onKeyDown:function(a){l.publish(this.id+"-containerKeyDown",{e:a,page:this})},layout:function(){var a=this.selectedChildWidget;a&&a.resize&&(this.doLayout?a.resize(this._containerContentBox||this._contentBox):a.resize())},_showChild:function(a){var b=this.getChildren();a.isFirstChild=a==b[0];a.isLastChild=a==b[b.length-1];a._set("selected",!0);a._wrapper&&h.replace(a._wrapper,"dijitVisible","dijitHidden");return a._onShow&&a._onShow()||!0},_hideChild:function(a){a._set("selected",!1);a._wrapper&&
h.replace(a._wrapper,"dijitHidden","dijitVisible");a.onHide&&a.onHide()},closeChild:function(a){a.onClose&&a.onClose(this,a)&&(this.removeChild(a),a.destroyRecursive())},destroyDescendants:function(a){this._descendantsBeingDestroyed=!0;this.selectedChildWidget=void 0;g.forEach(this.getChildren(),function(b){a||this.removeChild(b);b.destroyRecursive(a)},this);this._descendantsBeingDestroyed=!1}});d.ChildWidgetProperties={selected:!1,disabled:!1,closable:!1,iconClass:"dijitNoIcon",showTitle:!0};a.extend(q,
d.ChildWidgetProperties);return d})},"dijit/layout/TabController":function(){define("dojo/_base/declare dojo/dom dojo/dom-attr dojo/dom-class dojo/has dojo/i18n dojo/_base/lang ./StackController ../registry ../Menu ../MenuItem dojo/text!./templates/_TabButton.html dojo/i18n!../nls/common".split(" "),function(g,c,d,h,k,e,a,b,f,l,n,m){m=g("dijit.layout._TabButton"+(k("dojo-bidi")?"_NoBidi":""),b.StackButton,{baseClass:"dijitTab",cssStateNodes:{closeNode:"dijitTabCloseButton"},templateString:m,_setNameAttr:"focusNode",
scrollOnFocus:!1,buildRendering:function(){this.inherited(arguments);c.setSelectable(this.containerNode,!1)},startup:function(){this.inherited(arguments);var a=this.domNode;this.defer(function(){a.className=a.className},1)},_setCloseButtonAttr:function(a){this._set("closeButton",a);h.toggle(this.domNode,"dijitClosable",a);this.closeNode.style.display=a?"":"none";a&&(a=e.getLocalization("dijit","common"),this.closeNode&&d.set(this.closeNode,"title",a.itemClose))},_setDisabledAttr:function(a){this.inherited(arguments);
if(this.closeNode)if(a)d.remove(this.closeNode,"title");else{var b=e.getLocalization("dijit","common");d.set(this.closeNode,"title",b.itemClose)}},_setLabelAttr:function(b){this.inherited(arguments);!this.showLabel&&!this.params.title&&(this.iconNode.alt=a.trim(this.containerNode.innerText||this.containerNode.textContent||""))}});k("dojo-bidi")&&(m=g("dijit.layout._TabButton",m,{_setLabelAttr:function(a){this.inherited(arguments);this.applyTextDir(this.iconNode,this.iconNode.alt)}}));g=g("dijit.layout.TabController",
b,{baseClass:"dijitTabController",templateString:"\x3cdiv role\x3d'tablist' data-dojo-attach-event\x3d'onkeydown:onkeydown'\x3e\x3c/div\x3e",tabPosition:"top",buttonWidget:m,buttonWidgetCloseClass:"dijitTabCloseButton",postCreate:function(){this.inherited(arguments);var a=new l({id:this.id+"_Menu",ownerDocument:this.ownerDocument,dir:this.dir,lang:this.lang,textDir:this.textDir,targetNodeIds:[this.domNode],selector:function(a){return h.contains(a,"dijitClosable")&&!h.contains(a,"dijitTabDisabled")}});
this.own(a);var b=e.getLocalization("dijit","common"),c=this;a.addChild(new n({label:b.itemClose,ownerDocument:this.ownerDocument,dir:this.dir,lang:this.lang,textDir:this.textDir,onClick:function(a){a=f.byNode(this.getParent().currentTarget);c.onCloseButtonClick(a.page)}}))}});g.TabButton=m;return g})},"dijit/layout/StackController":function(){define("dojo/_base/array dojo/_base/declare dojo/dom-class dojo/dom-construct dojo/keys dojo/_base/lang dojo/on dojo/topic ../focus ../registry ../_Widget ../_TemplatedMixin ../_Container ../form/ToggleButton dojo/touch dojo/i18n!../nls/common".split(" "),
function(g,c,d,h,k,e,a,b,f,l,n,m,q,r){h=c("dijit.layout._StackButton",r,{tabIndex:"-1",closeButton:!1,_aria_attr:"aria-selected",buildRendering:function(a){this.inherited(arguments);(this.focusNode||this.domNode).setAttribute("role","tab")}});c=c("dijit.layout.StackController",[n,m,q],{baseClass:"dijitStackController",templateString:"\x3cspan role\x3d'tablist' data-dojo-attach-event\x3d'onkeydown'\x3e\x3c/span\x3e",containerId:"",buttonWidget:h,buttonWidgetCloseClass:"dijitStackCloseButton",pane2button:function(a){return l.byId(this.id+
"_"+a)},postCreate:function(){this.inherited(arguments);this.own(b.subscribe(this.containerId+"-startup",e.hitch(this,"onStartup")),b.subscribe(this.containerId+"-addChild",e.hitch(this,"onAddChild")),b.subscribe(this.containerId+"-removeChild",e.hitch(this,"onRemoveChild")),b.subscribe(this.containerId+"-selectChild",e.hitch(this,"onSelectChild")),b.subscribe(this.containerId+"-containerKeyDown",e.hitch(this,"onContainerKeyDown")));this.containerNode.dojoClick=!0;this.own(a(this.containerNode,"click",
e.hitch(this,function(a){var b=l.getEnclosingWidget(a.target);if(b!=this.containerNode&&!b.disabled&&b.page)for(a=a.target;a!==this.containerNode;a=a.parentNode)if(d.contains(a,this.buttonWidgetCloseClass)){this.onCloseButtonClick(b.page);break}else if(a==b.domNode){this.onButtonClick(b.page);break}})))},onStartup:function(b){this.textDir=b.textDir;g.forEach(b.children,this.onAddChild,this);if(b.selected)this.onSelectChild(b.selected);var f=l.byId(this.containerId).containerNode,c=e.hitch(this,"pane2button");
b={title:"label",showtitle:"showLabel",iconclass:"iconClass",closable:"closeButton",tooltip:"title",disabled:"disabled",textdir:"textdir"};var d=function(b,l){return a(f,"attrmodified-"+b,function(a){var b=c(a.detail&&a.detail.widget&&a.detail.widget.id);b&&b.set(l,a.detail.newValue)})},h;for(h in b)this.own(d(h,b[h]))},destroy:function(a){this.destroyDescendants(a);this.inherited(arguments)},onAddChild:function(a,b){var f=new (e.isString(this.buttonWidget)?e.getObject(this.buttonWidget):this.buttonWidget)({id:this.id+
"_"+a.id,name:this.id+"_"+a.id,label:a.title,disabled:a.disabled,ownerDocument:this.ownerDocument,dir:a.dir,lang:a.lang,textDir:a.textDir||this.textDir,showLabel:a.showTitle,iconClass:a.iconClass,closeButton:a.closable,title:a.tooltip,page:a});this.addChild(f,b);a.controlButton=f;if(!this._currentChild)this.onSelectChild(a);f=a._wrapper.getAttribute("aria-labelledby")?a._wrapper.getAttribute("aria-labelledby")+" "+f.id:f.id;a._wrapper.removeAttribute("aria-label");a._wrapper.setAttribute("aria-labelledby",
f)},onRemoveChild:function(a){this._currentChild===a&&(this._currentChild=null);var b=this.pane2button(a.id);b&&(this.removeChild(b),b.destroy());delete a.controlButton},onSelectChild:function(a){if(a){if(this._currentChild){var b=this.pane2button(this._currentChild.id);b.set("checked",!1);b.focusNode.setAttribute("tabIndex","-1")}b=this.pane2button(a.id);b.set("checked",!0);this._currentChild=a;b.focusNode.setAttribute("tabIndex","0");l.byId(this.containerId)}},onButtonClick:function(a){var b=this.pane2button(a.id);
f.focus(b.focusNode);this._currentChild&&this._currentChild.id===a.id&&b.set("checked",!0);l.byId(this.containerId).selectChild(a)},onCloseButtonClick:function(a){l.byId(this.containerId).closeChild(a);this._currentChild&&(a=this.pane2button(this._currentChild.id))&&f.focus(a.focusNode||a.domNode)},adjacent:function(a){if(!this.isLeftToRight()&&(!this.tabPosition||/top|bottom/.test(this.tabPosition)))a=!a;var b=this.getChildren(),f=g.indexOf(b,this.pane2button(this._currentChild.id)),c=b[f],l;do f=
(f+(a?1:b.length-1))%b.length,l=b[f];while(l.disabled&&l!=c);return l},onkeydown:function(a,b){if(!this.disabled&&!a.altKey){var f=null;if(a.ctrlKey||!a._djpage){switch(a.keyCode){case k.LEFT_ARROW:case k.UP_ARROW:a._djpage||(f=!1);break;case k.PAGE_UP:a.ctrlKey&&(f=!1);break;case k.RIGHT_ARROW:case k.DOWN_ARROW:a._djpage||(f=!0);break;case k.PAGE_DOWN:a.ctrlKey&&(f=!0);break;case k.HOME:for(var c=this.getChildren(),l=0;l<c.length;l++){var d=c[l];if(!d.disabled){this.onButtonClick(d.page);break}}a.stopPropagation();
a.preventDefault();break;case k.END:c=this.getChildren();for(l=c.length-1;0<=l;l--)if(d=c[l],!d.disabled){this.onButtonClick(d.page);break}a.stopPropagation();a.preventDefault();break;case k.DELETE:case 87:if(this._currentChild.closable&&(a.keyCode==k.DELETE||a.ctrlKey))this.onCloseButtonClick(this._currentChild),a.stopPropagation(),a.preventDefault();break;case k.TAB:a.ctrlKey&&(this.onButtonClick(this.adjacent(!a.shiftKey).page),a.stopPropagation(),a.preventDefault())}null!==f&&(this.onButtonClick(this.adjacent(f).page),
a.stopPropagation(),a.preventDefault())}}},onContainerKeyDown:function(a){a.e._djpage=a.page;this.onkeydown(a.e)}});c.StackButton=h;return c})},"dijit/layout/ScrollingTabController":function(){define("dojo/_base/array dojo/_base/declare dojo/dom-class dojo/dom-geometry dojo/dom-style dojo/_base/fx dojo/_base/lang dojo/on dojo/query dojo/sniff ../registry dojo/text!./templates/ScrollingTabController.html dojo/text!./templates/_ScrollingTabControllerButton.html ./TabController ./utils ../_WidgetsInTemplateMixin ../Menu ../MenuItem ../form/Button ../_HasDropDown dojo/NodeList-dom ../a11yclick".split(" "),
function(g,c,d,h,k,e,a,b,f,l,n,m,q,r,p,s,v,u,w,x){m=c("dijit.layout.ScrollingTabController",[r,s],{baseClass:"dijitTabController dijitScrollingTabController",templateString:m,useMenu:!0,useSlider:!0,tabStripClass:"",_minScroll:5,_setClassAttr:{node:"containerNode",type:"class"},buildRendering:function(){this.inherited(arguments);var a=this.domNode;this.scrollNode=this.tablistWrapper;this._initButtons();this.tabStripClass||(this.tabStripClass="dijitTabContainer"+this.tabPosition.charAt(0).toUpperCase()+
this.tabPosition.substr(1).replace(/-.*/,"")+"None",d.add(a,"tabStrip-disabled"));d.add(this.tablistWrapper,this.tabStripClass)},onStartup:function(){this.inherited(arguments);k.set(this.domNode,"visibility","");this._postStartup=!0;this.own(b(this.containerNode,"attrmodified-label, attrmodified-iconclass",a.hitch(this,function(a){this._dim&&this.resize(this._dim)})))},onAddChild:function(a,b){this.inherited(arguments);k.set(this.containerNode,"width",k.get(this.containerNode,"width")+200+"px")},
onRemoveChild:function(a,b){var f=this.pane2button(a.id);this._selectedTab===f.domNode&&(this._selectedTab=null);this.inherited(arguments)},_initButtons:function(){this._btnWidth=0;this._buttons=f("\x3e .tabStripButton",this.domNode).filter(function(a){if(this.useMenu&&a==this._menuBtn.domNode||this.useSlider&&(a==this._rightBtn.domNode||a==this._leftBtn.domNode))return this._btnWidth+=h.getMarginSize(a).w,!0;k.set(a,"display","none");return!1},this)},_getTabsWidth:function(){var a=this.getChildren();
if(a.length){var b=a[this.isLeftToRight()?0:a.length-1].domNode,a=a[this.isLeftToRight()?a.length-1:0].domNode;return a.offsetLeft+a.offsetWidth-b.offsetLeft}return 0},_enableBtn:function(a){var b=this._getTabsWidth();a=a||k.get(this.scrollNode,"width");return 0<b&&a<b},resize:function(a){this._dim=a;this.scrollNode.style.height="auto";var b=this._contentBox=p.marginBox2contentBox(this.domNode,{h:0,w:a.w});b.h=this.scrollNode.offsetHeight;h.setContentSize(this.domNode,b);b=this._enableBtn(this._contentBox.w);
this._buttons.style("display",b?"":"none");this._leftBtn.region="left";this._rightBtn.region="right";this._menuBtn.region=this.isLeftToRight()?"right":"left";p.layoutChildren(this.domNode,this._contentBox,[this._menuBtn,this._leftBtn,this._rightBtn,{domNode:this.scrollNode,region:"center"}]);this._selectedTab&&(this._anim&&"playing"==this._anim.status()&&this._anim.stop(),this.scrollNode.scrollLeft=this._convertToScrollLeft(this._getScrollForSelectedTab()));this._setButtonClass(this._getScroll());
this._postResize=!0;return{h:this._contentBox.h,w:a.w}},_getScroll:function(){return this.isLeftToRight()||8>l("ie")||l("ie")&&l("quirks")||l("webkit")?this.scrollNode.scrollLeft:k.get(this.containerNode,"width")-k.get(this.scrollNode,"width")+(8<=l("ie")?-1:1)*this.scrollNode.scrollLeft},_convertToScrollLeft:function(a){if(this.isLeftToRight()||8>l("ie")||l("ie")&&l("quirks")||l("webkit"))return a;var b=k.get(this.containerNode,"width")-k.get(this.scrollNode,"width");return(8<=l("ie")?-1:1)*(a-b)},
onSelectChild:function(a){var b=this.pane2button(a.id);if(b){b=b.domNode;if(b!=this._selectedTab&&(this._selectedTab=b,this._postResize)){var f=this._getScroll();(f>b.offsetLeft||f+k.get(this.scrollNode,"width")<b.offsetLeft+k.get(b,"width"))&&this.createSmoothScroll().play()}this.inherited(arguments)}},_getScrollBounds:function(){var a=this.getChildren(),b=k.get(this.scrollNode,"width"),f=k.get(this.containerNode,"width")-b,c=this._getTabsWidth();if(a.length&&c>b)return{min:this.isLeftToRight()?
0:a[a.length-1].domNode.offsetLeft,max:this.isLeftToRight()?a[a.length-1].domNode.offsetLeft+a[a.length-1].domNode.offsetWidth-b:f};a=this.isLeftToRight()?0:f;return{min:a,max:a}},_getScrollForSelectedTab:function(){var a=this._selectedTab,b=k.get(this.scrollNode,"width"),f=this._getScrollBounds(),a=a.offsetLeft+k.get(a,"width")/2-b/2;return a=Math.min(Math.max(a,f.min),f.max)},createSmoothScroll:function(a){if(0<arguments.length){var b=this._getScrollBounds();a=Math.min(Math.max(a,b.min),b.max)}else a=
this._getScrollForSelectedTab();this._anim&&"playing"==this._anim.status()&&this._anim.stop();var f=this,c=this.scrollNode,l=new e.Animation({beforeBegin:function(){this.curve&&delete this.curve;var b=c.scrollLeft,d=f._convertToScrollLeft(a);l.curve=new e._Line(b,d)},onAnimate:function(a){c.scrollLeft=a}});this._anim=l;this._setButtonClass(a);return l},_getBtnNode:function(a){for(a=a.target;a&&!d.contains(a,"tabStripButton");)a=a.parentNode;return a},doSlideRight:function(a){this.doSlide(1,this._getBtnNode(a))},
doSlideLeft:function(a){this.doSlide(-1,this._getBtnNode(a))},doSlide:function(a,b){if(!b||!d.contains(b,"dijitTabDisabled")){var f=0.75*k.get(this.scrollNode,"width")*a,f=this._getScroll()+f;this._setButtonClass(f);this.createSmoothScroll(f).play()}},_setButtonClass:function(a){var b=this._getScrollBounds();this._leftBtn.set("disabled",a<=b.min);this._rightBtn.set("disabled",a>=b.max)}});q=c("dijit.layout._ScrollingTabControllerButtonMixin",null,{baseClass:"dijitTab tabStripButton",templateString:q,
tabIndex:"",isFocusable:function(){return!1}});c("dijit.layout._ScrollingTabControllerButton",[w,q]);c("dijit.layout._ScrollingTabControllerMenuButton",[w,x,q],{containerId:"",tabIndex:"-1",isLoaded:function(){return!1},loadDropDown:function(a){this.dropDown=new v({id:this.containerId+"_menu",ownerDocument:this.ownerDocument,dir:this.dir,lang:this.lang,textDir:this.textDir});var b=n.byId(this.containerId);g.forEach(b.getChildren(),function(a){var f=new u({id:a.id+"_stcMi",label:a.title,iconClass:a.iconClass,
disabled:a.disabled,ownerDocument:this.ownerDocument,dir:a.dir,lang:a.lang,textDir:a.textDir||b.textDir,onClick:function(){b.selectChild(a)}});this.dropDown.addChild(f)},this);a()},closeDropDown:function(a){this.inherited(arguments);this.dropDown&&(this._popupStateNode.removeAttribute("aria-owns"),this.dropDown.destroyRecursive(),delete this.dropDown)}});return m})},"rdforms/formulator/ItemEditor":function(){define("dojo/_base/lang dojo/_base/array dojo/_base/declare dojo/aspect dojo/on dojo/json dojo/dom-construct dijit/_WidgetBase dijit/registry dijit/form/ComboBox rdforms/formulator/LangString rdforms/template/Item dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dijit/form/ToggleButton dojo/dnd/Target dojo/text!./ItemEditorTemplate.html".split(" "),
function(g,c,d,h,k,e,a,b,f,l,n,m,q,r,p,s,v){return d([b,q,r],{itemStore:null,storeManager:null,templateString:v,postCreate:function(){this.inherited("postCreate",arguments);this.lock=!0;var b=this.item.getBundle().isReadOnly();this._styles2Dijit={};for(var l=this.item.getAvailableStyles(),d=g.hitch(this,this._changeStyles),n=0;n<l.length;n++){var q=l[n];this._styles2Dijit[q]=new p({showLabel:!0,disabled:b,checked:this.item.hasStyle(q),onChange:d,label:q,iconClass:"dijitCheckBoxIcon"},a.create("div",
null,this._stylesWrapper))}this._typeDijit.set("value",this.item.getType(!0)||"");this._extendsDijit.set("value",this.item.getExtends(!0)||"");this._propDijit.set("value",this.item.getProperty(!0)||"");this._ntDijit.set("value",this.item.getNodetype(!0)||"");this._dtDijit.set("value",this.item.getDatatype(!0)||"");this._patternDijit.set("value",this.item.getPattern(!0)||"");l=this.item.getCardinality(!0);this._minDijit.set("value",l.min||"");this._prefDijit.set("value",l.pref||"");this._maxDijit.set("value",
l.max||"");this._constrDijit.set("value",e.stringify(this.item.getConstraints(!0)||{}));this._clsDijit.set("value",this.item.getClasses(!0).join(", "));setTimeout(g.hitch(this,function(){this.lock=!1}),200);b?c.forEach("_idDijit _typeDijit _extendsDijit _propDijit _ntDijit _dtDijit _patternDijit _labelLangString _descLangString _minDijit _prefDijit _maxDijit _constrDijit _clsDijit".split(" "),function(a){this[a].set("disabled","true")},this):(b=this.item.getId(!0),null==b?this._idDijit.set("disabled",
"true"):this._idDijit.set("value",b),this._dtDijit.set("disabled","DATATYPE_LITERAL"!==this.item.getNodetype(!0)),this._patternDijit.set("disabled","ONLY_LITERAL"!==this.item.getNodetype(!0)),h.before(this._labelLangString,"onChange",g.hitch(this.item,"setLabelMap")),h.after(this._labelLangString,"onChange",g.hitch(this,this.itemChanged)),k(this._addLabel,"click",g.hitch(this._labelLangString,this._labelLangString.add)),h.before(this._descLangString,"onChange",g.hitch(this.item,"setDescriptionMap")),
h.after(this._descLangString,"onChange",g.hitch(this,this.itemChanged)),k(this._addDesc,"click",g.hitch(this._descLangString,this._descLangString.add)),this._constrDijit.set("disabled","text"===this.item.getType(!0)||"URI"!==this.item.getNodetype(!0)&&"RESOURCE"!==this.item.getNodetype(!0)),this._constrDijit.validator=function(a,b){try{return"{}"!==a&&""!==a&&e.parse(a),!0}catch(f){return!1}},this._extends_target.checkAcceptance=function(a,b){return 1===b.length?f.getEnclosingWidget(b[0]).item instanceof
m:!1},this._extends_target.onDrop=g.hitch(this,function(a,b,c){a=f.getEnclosingWidget(b[0]);this._extendsDijit.set("value",a.item.getId())}));this._labelLangString.setMap(this.item.getLabelMap(!0));this._descLangString.setMap(this.item.getDescriptionMap(!0))},itemChanged:function(){this.storeManager.itemChanged(this.item)},_addLangString:function(a,b){},_changeId:function(){this.lock||(this._idTimer&&clearTimeout(this._idTimer),this._idTimer=setTimeout(g.hitch(this,function(){delete this._idTimer;
if(!this._destroyed){var a=this.item.getId(),b=this._idDijit.get("value");if(a!==b)try{this.itemStore.renameItem(a,b),this.itemChanged()}catch(f){}}}),200))},_changeExtends:function(){this.lock||(this.item.setExtends(this._extendsDijit.get("value")),this.itemChanged())},_changeProperty:function(){this.lock||(this.item.setProperty(this._propDijit.get("value")),this.storeManager.itemChanged(this.item))},_changeNT:function(){if(!this.lock){var a=this._ntDijit.get("value");this.item.setNodetype(a);this._dtDijit.set("disabled",
"DATATYPE_LITERAL"!==a);this._patternDijit.set("disabled","ONLY_LITERAL"!==a);this._constrDijit.set("disabled","text"===this.item.getType(!0)||"URI"!==this.item.getNodetype(!0)&&"RESOURCE"!==this.item.getNodetype(!0));this.itemChanged()}},_changeDT:function(){this.lock||(this.item.setDatatype(this._dtDijit.get("value")),this.itemChanged())},_changePattern:function(){this.lock||(this.item.setPattern(this._patternDijit.get("value")),this.itemChanged())},_changeCard:function(){if(!this.lock){var a={min:this._minDijit.get("value")||
0,pref:this._prefDijit.get("value")||0,max:this._maxDijit.get("value")||-1};-1===a.max&&delete a.max;this.item.setCardinality(a);this.itemChanged()}},_changeConstr:function(){if(!this.lock)try{var a=this._constrDijit.get("value");if("{}"===a||""===a)this.item.setConstraints();else{var b=e.parse(a);this.item.setConstraints(b)}this.itemChanged()}catch(f){}},_changeCls:function(){if(!this.lock){var a=this._clsDijit.get("value").replace(/[,;:] ?/," ").split(" ");1===a.length&&""===a[0]?this.item.setClasses():
this.item.setClasses(a);this.itemChanged()}},_changeStyles:function(){if(!this.lock){for(var a=this.item.getAvailableStyles(),b=[],f=0;f<a.length;f++){var c=a[f];this._styles2Dijit[c].get("checked")&&b.push(c)}this.item.setStyles(b);this.itemChanged()}}})})},"dijit/form/ComboBox":function(){define(["dojo/_base/declare","./ValidationTextBox","./ComboBoxMixin"],function(g,c,d){return g("dijit.form.ComboBox",[c,d],{})})},"rdforms/formulator/LangString":function(){define("dojo/_base/declare dojo/_base/lang dojo/dom-class dojo/dom-construct dojo/dom-attr dijit/_Widget dijit/form/TextBox dijit/form/Textarea dijit/form/ComboBox dojo/store/Memory".split(" "),
function(g,c,d,h,k,e,a,b,f,l){return g(e,{buildRendering:function(){this.domNode=this.srcNodeRef||h.create("div");d.add(this.domNode,"langStringArr");var a;this._onChange=c.hitch(this,function(){a&&clearTimeout(a);a=setTimeout(c.hitch(this,function(){a=null;this.onChange(this.getMap())}),200)});this._comboChoiceStore=new l({data:[{id:"en"},{id:"sv"},{id:"de"},{id:"es"},{id:"fr"},{id:"it"}]})},onChange:function(a){},setMap:function(a){a=a||{};if(this._rows){for(var b=0;b<this._rows.length;b++)this._rows[b].lang.destroy(),
this._rows[b].text.destroy();this._rows=[];k.set(this.domNode,"innerHTML","")}for(var f in a)a.hasOwnProperty(f)&&this._add(a[f],f);(null==this._rows||0==this._rows.length)&&this._add("","")},getMap:function(){for(var a={},b=0;b<this._rows.length;b++){var f=this._rows[b],c=f.lang.get("value")||"",f=f.text.get("value");null!=f&&""!==f&&(a[c]=f)}return a},add:function(){this._add("","")},_add:function(c,l){var d=h.create("div",{"class":"langString"},this.domNode),e=h.create("div",{"class":"langStringString"},
d),k=h.create("div",{"class":"langStringLang"},d);this.multiline?(e=b({value:c,disabled:this.get("disabled"),onChange:this._onChange,intermediateChanges:!0},h.create("div",null,e)),e.resize()):e=a({value:c,disabled:this.get("disabled"),onChange:this._onChange,intermediateChanges:!0},h.create("div",null,e));k=f({value:l,disabled:this.get("disabled"),onChange:this._onChange,store:this._comboChoiceStore,searchAttr:"id"},h.create("div",null,k));null==this._rows&&(this._rows=[]);this._rows.push({row:d,
text:e,lang:k})}})})},"dojo/dnd/Target":function(){define(["../_base/declare","../dom-class","./Source"],function(g,c,d){return g("dojo.dnd.Target",d,{constructor:function(){this.isSource=!1;c.remove(this.node,"dojoDndSource")}})})},"rdforms/formulator/ItemTreeModel":function(){define(["dojo/_base/declare","../template/Group","../template/Bundle","../template/Item"],function(g,c,d,h){var k=function(a,b){var f=a.getId()||a.getProperty(),c=b.getId()||b.getProperty();return f>c?1:f<c?-1:0},e=function(a,
b){if(a.isReadOnly()&&!b.isReadOnly())return 1;if(b.isReadOnly()&&!a.isReadOnly())return-1;var f=a.getPath()||a.getInternalId(),c=b.getPath()||b.getInternalId();return f>c?1:f<c?-1:0};return g(null,{constructor:function(a){this.itemStore=a},getRoot:function(a){a(this.itemStore)},mayHaveChildren:function(a){return a instanceof c||a instanceof d||a===this.itemStore},getChildren:function(a,b,f){a instanceof c?b(a.getChildren(!0)):a instanceof d?b(a.getItems().sort(k)):a===this.itemStore?b(a.getBundles().sort(e)):
b([])},showError:function(a,b){},getIdentity:function(a){return a instanceof d?a.getInternalId():a===this.itemStore?"___root":a._internalId},getLabel:function(a){return a instanceof d?a.getPath()||a.getInternalId():a===this.itemStore?"Root node":a.getId(!0)||a.getLabel(!1,!0)||a.getId()||a.getLabel()||a.getProperty(!0)||a.getProperty()||"??? (missing label and/or property)."},newItem:function(a,b,f){var c,e;c=a.id?{id:a.id}:a.getSource(!0);if(b instanceof d)e=b.getItems(),(b.getSource().templates||
b.getSource().auxilliary).push(c);else{if(b===this.itemStore)throw"Solve in calling method instead.";e=b.getChildren(!0);var h=b.getSource(!0);h.items=h.items||[];isNaN(f)?(h.items.push(c),e.push(a)):(h.items.splice(f,0,c),e.splice(f,0,a))}this.onChildrenChange(b,e)},removeItem:function(a,b){if(b!==this.itemStore){var f,c;if(b instanceof d){f=b.getItems();c=b.getSource().templates||b.getSource().auxilliary;var e=f.indexOf(a);f.splice(e,1);e=c.indexOf(a.getSource(!0))}else f=b.getChildren(!0),c=b.getSource(!0).items,
e=f.indexOf(a),f.splice(e,1);c.splice(e,1);this.onChildrenChange(b,f)}},isItem:function(a){return a===this.itemStore||a instanceof d||a instanceof h},getPasteAction:function(a,b,f){return b===this.itemStore||f===this.itemStore?"NA_paste_item_in_or_from_itemStore":b instanceof d?b===f?"NA_bundle_reorder":f instanceof d?"NA_move_between_bundles":-1===f.getChildren().indexOf(a)?f.getBundle().isReadOnly()?"NA_readOnly_destination":"reference_item_in_group":"NA_item_already_referenced_in_group":f instanceof
d?a.getBundle()===f?"NA_un_inline":"NA_cross_bundle_un_inline":f.getBundle().isReadOnly()?"NA_readOnly_destination":b===f?"reorder_in_group":b.getBundle()===f.getBundle()?"move_between_groups_in_same_bundle":b.getBundle().isReadOnly()?"NA_move_from_readOnly_source":"move_between_groups_in_different_bundles"},pasteItem:function(a,b,f,c,d){var e=this.getPasteAction(a,b,f);if("N"!==e[0]){var h;c=f.getChildren(!0);var k=f.getSource(!0);k.items=k.items||[];k=k.items;switch(e){case "reference_item_in_group":d=
isNaN(d)?c.length:d;c.splice(d,0,a);k.splice(d,0,{id:a.getId()});this.onChildrenChange(f,c);break;case "reorder_in_group":case "move_between_groups_in_same_bundle":case "move_between_groups_in_different_bundles":e=b.getChildren(!0);h=b.getSource(!0).items;var g=e.indexOf(a),s=h[g];e.splice(g,1);h.splice(g,1);d=isNaN(d)?c.length:d;c.splice(d,0,a);k.splice(d,0,s);this.onChildrenChange(f,c);if(b!==f)this.onChildrenChange(b,e)}}},old_pasteItem:function(a,b,f,c,e){if(!(b===this.itemStore||f===this.itemStore)){var h,
k;b instanceof d?(h=b.getItems(),k=b.getSource(),k=k.templates||k.auxilliary):(h=b.getChildren(!0),k=b.getSource(!0).items);if(k){var g=h.indexOf(a);c=null==a.getId()?k[g]:{id:a.getId()};h.splice(g,1);k.splice(g,1)}else c={id:a.getId()};if(b===f)isNaN(e)?(h.push(a),k.push(c)):(h.splice(e,0,a),k.splice(e,0,c)),this.onChildrenChange(b,h);else{var p;f instanceof d?(g=f.getSource(),null==g.templates&&null==g.auxilliary&&(g.templates=[]),g=g.templates||g.auxilliary,p=f.getItems()):(g=f.getSource(!0),g.items=
g.items||[],g=g.items,p=f.getChildren(!0));isNaN(e)?(p.push(a),g.push(c)):(p.splice(e,0,a),g.splice(e,0,c));if(k)this.onChildrenChange(b,h);this.onChildrenChange(f,p)}}},onChange:function(a){},onChildrenChange:function(a,b){a.originalChildrenChanged&&a.originalChildrenChanged()}})})},"rdforms/template/Bundle":function(){define(["dojo/_base/declare"],function(g){var c=0;return g(null,{_itemStore:null,_source:null,_path:null,_items:null,_root:null,_id:null,_modified:!1,_readOnly:!1,getInternalId:function(){return this._id},
getSource:function(){return this._source},setRoot:function(c){return this._source.root=c},getRoot:function(){if(this._source.root)return this._itemStore.getItem(this._source.root)},getItemStore:function(){return this._itemStore},getPath:function(){return this._path},getItems:function(){return this._items},addItem:function(c){this._items.push(c)},removeItem:function(c){this._items.splice(this._items.indexOf(c),1)},isModified:function(){return this._modified},setModified:function(c){this._modified=
c},isReadOnly:function(){return this._readOnly||null==this._path},constructor:function(d){this._itemStore=d.itemStore;this._source=d.source;this._path=d.path;this._readOnly=d.readOnly;this._items=[];c++;this._id="_bundle_"+c}})})},"rdforms/formulator/ChoicesEditor":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/aspect dojo/on dojo/dom-class dojo/dom-construct dojo/dom-style dijit/registry dijit/layout/_LayoutWidget dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dijit/Tree dijit/Menu dijit/MenuItem dijit/tree/dndSource ./ChoicesTreeModel dojo/text!./ChoicesEditorTemplate.html".split(" "),
function(g,c,d,h,k,e,a,b,f,l,n,m,q,r,p,s,v,u){return g([l,n,m],{choices:[],templateString:u,postCreate:function(){this.choices=this.item.getStaticChoices()||[];this.inherited("postCreate",arguments);var b=this.item.getBundle().isReadOnly();this.tree=new q({showRoot:!0,model:new v(this.choices),disabled:b,dndController:s,checkItemAcceptance:function(a,f,c){return!b&&"over"===c},betweenThreshold:5,onClick:c.hitch(this,this._editChoice)},a.create("div",null,this._treeNode));this.tree.startup();if(b)d.forEach("_valueDijit _labelLangString _descLangString _valueDijit _selectable _inlineDijit _ontologyDijit _ppDijit _ppinvDijit _hpDijit _hpinvDijit".split(" "),
function(a){this[a].set("disabled","true")},this);else{this._valueDijit.validator=c.hitch(this,function(a,b){var f=this.tree.get("model");return null==this._choice||this._choice.value===a?!0:f.isNameFree(a)});h.before(this._labelLangString,"onChange",c.hitch(this,"_setLabelMap"));k(this._addLabel,"click",c.hitch(this._labelLangString,this._labelLangString.add));h.before(this._descLangString,"onChange",c.hitch(this,"_setDescriptionMap"));k(this._addDesc,"click",c.hitch(this._descLangString,this._descLangString.add));
var l=this;this.menu=new r({targetNodeIds:[this.tree.id],selector:".dijitTreeNode"});this.menu.addChild(new p({label:"New Choice",iconClass:"dijitIconFile",onClick:function(){var a=f.byNode(this.getParent().currentTarget),b=l.tree.get("model"),c={value:""+(new Date).getTime()};b.newItem(c,a.item);b=l.tree.getNodesByItem(c)[0];a.expand();l.tree.focusNode(b);l.tree.set("selectedItem",c);l._editChoice(c)}}));this.menu.addChild(new p({label:"Remove choice",iconClass:"dijitEditorIcon dijitEditorIconDelete",
onClick:function(){var a=f.byNode(this.getParent().currentTarget);l.tree.get("model").removeItem(a.item,a.getParent().item);l._choicesChanged()}}));this.menu.startup()}this._inlineDijit.set("checked",null!=this.item.getStaticChoices());this._ontologyDijit.set("value",this.item.getOntologyUrl()||"");this._ppDijit.set("value",this.item.getParentProperty()||"");this._ppinvDijit.set("checked",this.item.isParentPropertyInverted()||!1);this._hpDijit.set("value",this.item.getHierarchyProperty()||"");this._hpinvDijit.set("checked",
this.item.isHierarchyPropertyInverted()||!1)},resize:function(){this.inherited("resize",arguments);this._bcDijit&&this._bcDijit.resize()},_choicesChanged:function(){this.tree.get("model").onChange(this._choice);this.onChange()},onChange:function(){},_editChoice:function(a){var b=this.tree.get("model");a!==b.root&&(this._choice=a,this._valueDijit.set("value",a.value),this._labelLangString.setMap(a.label),this._descLangString.setMap(a.description),this._selectable.set("checked",!1!==a.selectable))},
_changeInline:function(){this._inlineDijit.get("checked")?(this.item.setStaticChoices(this.choices),b.set(this.tree.domNode,"display",""),b.set(this._controlDijit.domNode,"height","25px"),e.add(this._controlDijit.domNode,"inlineState")):(this.item.setStaticChoices(),b.set(this.tree.domNode,"display","none"),b.set(this._controlDijit.domNode,"height","45%"),e.remove(this._controlDijit.domNode,"inlineState"));this._bcDijit.resize()},_changeOntologyUrl:function(){this.item.setOntologyUrl(this._ontologyDijit.get("value"))},
_changePProperty:function(){this.item.setParentProperty(this._ppDijit.get("value"))},_changePPI:function(){this.item.setParentPropertyInverted(this._ppinvDijit.get("checked"))},_changeHProperty:function(){this.item.setHierarchyProperty(this._hpDijit.get("value"))},_changeHPI:function(){this.item.setHierarchyPropertyInverted(this._hpinvDijit.get("checked"))},_changeSelectable:function(){!1===this._selectable.get("checked")?this._choice.selectable=!1:delete this._choice.selectable;this._choicesChanged()},
_setLabelMap:function(a){this._choice.label=a;this._choicesChanged()},_setDescriptionMap:function(a){this._choice.description=a;this._choicesChanged()},_changeValue:function(){this._valueTimer&&clearTimeout(this._valueTimer);this._valueTimer=setTimeout(c.hitch(this,function(){delete this._valueTimer;if(!this._destroyed){var a=this._valueDijit.get("value");null!=a&&this.tree.get("model").renameItem(this._choice,a);this._choicesChanged()}}),200)}})})},"rdforms/formulator/ChoicesTreeModel":function(){define(["dojo/_base/lang",
"dojo/_base/declare","dojo/_base/array","../view/ChoicesTreeModel"],function(g,c,d,h){return c(h,{postscript:function(){this._detectTops()},_detectTops:function(){d.forEach(this.choices,function(c){delete c.top});var c=this._getChildren(this.root);c.length<this.choices.length&&d.forEach(c,function(c){c.top=!0})},getIdentity:function(c){return c===this.root?this.root.value:this.choiceIdx[c.value]?this.choiceIdx[c.value].id:(this._temporaryIdx||{})[c.value]},newItem:function(c,d,a){this.choices.push(c);
this.choiceIdx[c.value]={choice:c,id:this._newId()};d!==this.root&&(this.choiceIdx[c.value].parent=d,d.children=d.children||[],d.children.push({_reference:c.value}));this._detectTops();this.onChildrenChange(d,this._getChildren(d))},isNameFree:function(c){return null==this.choiceIdx[c]},renameItem:function(c,e){var a=c.value;if(a===e||this.choiceIdx[e])return!1;var b=this.choiceIdx[a];delete this.choiceIdx[a];this.choiceIdx[e]=b;c.value=e;d.forEach(this.choices,function(b){b.children&&d.forEach(b.children,
function(b){b._reference===a&&(b._reference=e)})});this.onChange(c)},removeItem:function(c,d){this._removeItem(c,d);this._detectTops();this.onChildrenChange(d,this._getChildren(d));setTimeout(g.hitch(this,function(){delete this._temporaryIdx},100))},_removeItem:function(c,e){var a=this.choices.indexOf(c);this.choices.splice(a,1);this._temporaryIdx=this._temporaryIdx||[];this._temporaryIdx[c.value]=this.choiceIdx[c.value].id;delete this.choiceIdx[c.value];e.children=d.filter(e.children,function(a){return a._reference!==
c.value});0===e.children.length&&delete e.children;c.children&&d.forEach(c.children,function(a){this._removeItem(this.choiceIdx[a._reference].choice,c)},this)},isItem:function(c){return-1!=this.choices.indexOf(c)},pasteItem:function(c,e,a,b,f){e!==a&&(e!==this.root&&(e.children=d.filter(e.children,function(a){return a._reference!==c.value}),0===e.children.length&&delete e.children),a!==this.root?(a.children=a.children||[],a.children.push({_reference:c.value}),this.choiceIdx[c.value].parent=a):delete this.choiceIdx[c.value].parent,
this._detectTops(),this.onChildrenChange(e,this._getChildren(e)),this.onChildrenChange(a,this._getChildren(a)))},onChange:function(c){},onChildrenChange:function(c,d){}})})},"rdforms/apps/Experiment":function(){define("dojo/_base/declare dojo/_base/lang dojo/topic dojo/dom-construct dojo/json dijit/layout/_LayoutWidget dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dijit/layout/TabContainer rdfjson/Graph ../model/Engine ../template/ItemStore ../view/Editor ../view/Presenter ./RDFView dojo/text!./ExperimentTemplate.html".split(" "),
function(g,c,d,h,k,e,a,b,f,l,n,m,q,r,p,s){return g([e,a,b],{templateObj:"",graphObj:"",graph:null,itemStore:null,template:null,resource:"http://www.w3.org/ns/dcat#",hideTemplate:!1,templateString:s,startup:function(){this.inherited("startup",arguments);this._itemStore=this.itemStore||new m;this._template=this.template||this._itemStore.createTemplate(this.templateObj);this._templateInvalid=!1;this.hideTemplate?this._tabContainer.removeChild(this._templateTab):this._templateView.set("value",k.stringify(this.templateObj,
!0,"  "));null==this.graph&&(this.graph=new l(this.graphObj));this._graphInvalid=!1;d.subscribe(this._tabContainer.id+"-selectChild",c.hitch(this,this._selectChild));this._initEditor()},resize:function(){this.inherited("resize",arguments);this._tabContainer&&this._tabContainer.resize()},_selectChild:function(a){this._updateGraph();this._updateTemplate();a===this._rdfTab?(this._rdfTab.setGraph(this.graph),this._graphInvalid=!0):a===this._templateTab?this._templateInvalid=!0:a===this._editorTab?this._initEditor():
a===this._presenterTab&&this._initPresenter()},_updateTemplate:function(){if(this._templateInvalid)try{this._template=this._itemStore.createTemplate(k.parse(this._templateView.get("value"))),this._templateInvalid=!1}catch(a){alert("Error in template.")}},_updateGraph:function(){if(this._graphInvalid)try{this.graph=this._rdfTab.getGraph(),this._graphInvalid=!1}catch(a){alert("Error in rdf.")}},_initEditor:function(){this.editor.show({template:this._template,graph:this.graph,resource:this.resource})},
_initPresenter:function(){this.presenter.show({template:this._template,graph:this.graph,resource:this.resource})}})})},"rdfjson/Graph":function(){define(["./formats/rdfjson/util","./Statement","./namespaces"],function(g,c,d){var h=function(a){return 0===a.length?a:[a[0]]},k=function(a,b,f){return{object:function(c){for(var d=0;d<b.length;d++){var e;if(f)e=b[d].getSubject();else{e=b[d].getType();if("uri"===e||"bnode"===e)continue;e=b[d].getValue()}e=a.find(e,c);0<e.length&&k(a,[e[0]])}return k(a,[])},
objects:function(c){var d=[],e;if(!0===f)for(e=0;e<b.length;e++)d=d.concat(a.find(b[e].getSubject(),c));else for(e=0;e<b.length;e++){var h=b[e].getType();if("uri"===h||"bnode"===h)d=d.concat(a.find(b[e].getValue(),c))}return k(a,d)},constr:function(c,d){g.isString(d)&&(d={type:"uri",value:d});for(var e=[],h=0;h<b.length;h++){var r=f?b[h].getSubject():b[h].getValue();0<a.find(r,c,d).length&&e.push(b[h])}return k(a,e,f)},each:function(c,d){if(!0===f)for(var e=0;e<b.length;e++){var h="_:"===b[e].getSubject().substring(0,
2)?"bnode":"uri";(null==d||d===h)&&c(k(a,b[e],f))}else for(e=0;e<b.length;e++)c(k(a,b[e],f))},nodes:function(a){var c=[];if(!0===f)for(var d=0;d<b.length;d++){var e="_:"===b[d].getSubject().substring(0,2)?"bnode":"uri";(null==a||a===e)&&c.push({type:e,value:b[d].getSubject()})}else for(d=0;d<b.length;d++)(null==a||a===b[d].getType())&&c.push(b[d].getObject());return c},values:function(a){var c=[];if(!0===f)for(var d=0;d<b.length;d++){var e="_:"===b[d].getSubject().substring(0,2)?"bnode":"uri";(null==
a||a===e)&&c.push(b[d].getSubject())}else for(d=0;d<b.length;d++)(null==a||a===b[d].getType())&&c.push(b[d].getValue());return c},firstValue:function(a){if(!0===f)for(var c=0;c<b.length;c++){var d="_:"===b[c].getSubject().substring(0,2)?"bnode":"uri";if(null==a||a===d)return b[c].getSubject()}else for(c=0;c<b.length;c++)if(null==a||a===b[c].getType())return b[c].getValue()}}},e=function(a,b){this._graph=a||{};this._bnodes={};this._bnodesIndexed=!1;!1!==b&&this.validate();this._changed=!1};e.prototype.isEmpty=
function(){var a,b,c,d=this._graph,e;for(a in d)if(d.hasOwnProperty(a))for(b in d[a])if(d[a].hasOwnProperty(b)){e=d[a][b];for(c=e.length-1;0<=c;c--){var h=e[c];if(null==h._statement||h._statement.isAsserted())return!1}}return!0};e.prototype.onChange=function(){};e.prototype.setChanged=function(a){if(this._changed=!0===a||null==a?!0:!1)this.onChange()};e.prototype.isChanged=function(){return this._changed};e.prototype.addAll=function(a){var b={},c;a=a.find();for(var d=0;d<a.length;d++){c=a[d];var e=
c.getSubject(),h=c.getPredicate(),k=c.getCleanObject();0===e.indexOf("_:")&&(c=b[e]||this._newBNode(),e=b[e]=c);0===h.indexOf("_:")&&(c=b[h]||this._newBNode(),h=b[h]=c);"bnode"===k.type&&(c=b[k.value]||this._newBNode(),b[k.value]=c,k.value=c);this.add(e,h,k)}};e.prototype.add=function(a,b,f){return a instanceof c?(b=a.getPredicate(),f=a.getObject(),a=a.getSubject(),this._trackBNodes(a,b,f),f=this._graphObject(f),f=g.add(this._graph,a,b,f),this.setChanged(),this._get(a,b,f,!0)):this.create(a,b,f,!0)};
e.prototype.addL=function(a,b,c,d){c={type:"literal",value:c};"string"===typeof d&&(c.lang=d);return this.create(a,b,c,!0)};e.prototype.addD=function(a,b,c,e){c={type:"literal",value:c};"string"===typeof e&&(c.datatype=d.expand(e));return this.create(a,b,c,!0)};e.prototype.create=function(a,b,f,e){a=null==a?this._newBNode():d.expand(a);b=null==b?this._newBNode():d.expand(b);null==f?f={type:"bnode",value:this._newBNode()}:g.isString(f)?f={type:"uri",value:d.expand(f)}:(f={type:f.type,value:f.value,
lang:f.lang,datatype:f.datatype},"uri"===f.type&&null!=f.value&&(f.value=d.expand(f.value)),f.datatype&&(f.datatype=d.expand(f.datatype)));return!1!==e?(f=g.add(this._graph,a,b,f),this.setChanged(),this._getOrCreate(a,b,f,!0)):new c(this,a,b,f,!1)};e.prototype.findAndRemove=function(a,b,c){a=this.find(a,b,c);for(b=0;b<a.length;b++)this.remove(a[b])};e.prototype.remove=function(a){var b=a.getSubject(),c=a.getPredicate();a=a.getObject();this._trackBNodes(b,c,a);null!=g.remove(this._graph,b,c,a)&&this.setChanged()};
e.prototype.find=function(a,b,c){"string"===typeof a&&(a=d.expand(a));"string"===typeof b&&(b=d.expand(b));"object"===typeof c&&null!==c&&"uri"===c.type?c.value=d.expand(c.value):"string"===typeof c&&(c={type:"uri",value:d.expand(c)});if(null==c)return null==b?null==a?this._find():this._findS(a):null==a?this._findP(b):this._findSP(a,b);if(null==b)return null==a?this._findO(c):this._findSO(a,c);if(null==a)return this._findPO(b,c);a=this._get(a,b,g.contains(this._graph,a,b,c),!0);return null==a?[]:
[a]};e.prototype.findFirstValue=function(a,b){var c=this.find(a,b);if(0<c.length)return c[0].getValue()};e.prototype.projection=function(a,b,c){var d={},e,h;for(h in b)if(b.hasOwnProperty(h)){var k=this.find(a,b[h]);if(0<k.length){if("*"===h[0]){e=[];for(var g=0;g<k.length;g++)e[g]=k[g].getValue();d[h.substr(1)]=e}else d[h]=k[0].getValue();if(null!=c&&"none"!==c){switch(c){case "statement":e=k;break;case "objects":e=[];for(g=0;g<k.length;g++)e[g]=k[g].getCleanObject();break;case "values":e=[];for(g=
0;g<k.length;g++)e[g]=k[g].getValue()}d["*"+h]=e}}}return d};e.prototype.subjects=function(a,b){return k(this,this.find(null,a,b),!0)};e.prototype.subject=function(a,b){return k(this,h(this.find(null,a,b)),!0)};e.prototype.objects=function(a,b){return k(this,this.find(a,b,null))};e.prototype.object=function(a,b){return k(this,h(this.find(a,b,null)))};e.prototype.exportRDFJSON=function(){var a,b,c,d=this._graph,e={},h,k,g,p;for(a in d)if(d.hasOwnProperty(a))for(b in e[a]={},d[a])if(d[a].hasOwnProperty(b)){h=
d[a][b];k=e[a][b]=[];for(c=h.length-1;0<=c;c--)g=h[c],p={type:g.type,value:g.value},null!=g.lang&&(p.lang=g.lang),null!=g.datatype&&(p.datatype=g.datatype),k.push(p)}return e};e.prototype.replaceSubject=function(a,b){return this.replaceURI(a,b)};e.prototype.replaceURI=function(a,b){var c=this._graph;if(c.hasOwnProperty(a)){if(c.hasOwnProperty(b))throw"Cannot replace subject with target URI since it already exists.";c[b]=c[a];delete c[a];this._map(function(c,f,d){"uri"===d.type&&d.value===a&&(d.value=
b);c===b&&d._statement&&(d._statement._s=b)})}return this};e.prototype.clone=function(){return new e(this.exportRDFJSON())};e.prototype.findProperties=function(a){if(null==this._graph[a])return[];var b,c=this._graph,d=[];for(b in c[a])c[a].hasOwnProperty(b)&&d.push(b);return d};e.prototype.validate=function(){this.report=this._validate();if(!this.report.valid)throw this.report;return this.report};e.prototype.registerBNode=function(a){this._bnodes[a]=!0};e.prototype._get=function(a,b,c,d){if(null!=
c)return this._getOrCreate(a,b,c,d)};e.prototype._getOrCreate=function(a,b,f,d){null==f._statement&&new c(this,a,b,f,d);return f._statement};e.prototype._graphObject=function(a){return null==a._statement||a._statement._graph===this?a:{type:a.type,value:a.value,lang:a.lang,datatype:a.datatype}};e.prototype._findSP=function(a,b){if(null==this._graph[a]||null==this._graph[a][b])return[];for(var c=[],d=this._graph[a][b],e=0;e<d.length;e++)c[e]=this._get(a,b,d[e],!0);return c};e.prototype._findS=function(a){if(null==
this._graph[a])return[];var b,c=this._graph,d=[];for(b in c[a])c[a].hasOwnProperty(b)&&d.push(this._findSP(a,b));return Array.prototype.concat.apply([],d)};e.prototype._find=function(){var a=[],b=this;this._map(function(c,d,e){a.push(b._get(c,d,e,!0))});return a};e.prototype._findP=function(a){var b=[],c=this;this._map(function(d,e,h){a===e&&b.push(c._get(d,e,h,!0))});return b};e.prototype._findO=function(a){var b=[],c=this;this._map(function(d,e,h){g.objectEquals(a,h)&&b.push(c._get(d,e,h,!0))});
return b};e.prototype._findSO=function(a,b){var c=[],d=this;this._map(function(e,h,k){a===e&&g.objectEquals(b,k)&&c.push(d._get(e,h,k,!0))});return c};e.prototype._findPO=function(a,b){var c=[],d=this;this._map(function(e,h,k){a===h&&g.objectEquals(b,k)&&c.push(d._get(e,h,k,!0))});return c};e.prototype._map=function(a){var b,c,d,e=this._graph,h;for(b in e)if(e.hasOwnProperty(b))for(c in e[b])if(e[b].hasOwnProperty(c)){h=e[b][c];for(d=h.length-1;0<=d;d--)a(b,c,h[d])}};e.prototype._validate=function(){var a,
b,c,d=this._graph,e,h={valid:!0,errors:[],nr:0};for(a in d)if(d.hasOwnProperty(a))if(g.isObject(d[a]))for(b in d[a]){if(d[a].hasOwnProperty(b))if(e=d[a][b],g.isArray(e))for(c=e.length-1;0<=c;c--){var k=e[c];g.isObject(k)?null==k.type?(h.errors.push({s:a,p:b,oindex:c+1,message:"Object "+(c+1)+" in object array lacks the attribute type, must be either 'literal', 'resource' or 'bnode'."}),h.valid=!1):g.isString(k.value)?h.nr++:(h.errors.push({s:a,p:b,oindex:c+1,message:"Object "+(c+1)+" in object array must have the 'value' attribute pointing to a string."}),
h.valid=!1):(h.errors.push({s:a,p:b,oindex:c+1,message:"Element "+(c+1)+" in object array is not an object."}),h.valid=!1)}else h.errors.push({s:a,p:b,message:"Predicate must point to an array of objects."}),h.valid=!1}else h.errors.push({s:a,message:"Subject must point to an object."}),h.valid=!1;return h};e.prototype._newBNode=function(){this._indexBNodes();var a,b,c;for(a=1;10>a;a++)for(b=1;b<=a;b++)if(c="_:"+Math.floor(Math.random()*(Math.pow(10,a)+1)),!0!==this._bnodes[c])return this._bnodes[c]=
!0,c};e.prototype._indexBNodes=function(){if(!this._bnodesIndexed){var a,b,c,d=this._graph,e;for(a in d)if(d.hasOwnProperty(a))for(b in 0===a.indexOf("_:")&&(this._bnodes[a]=!0),d[a])if(d[a].hasOwnProperty(b)){0===b.indexOf("_:")&&(this._bnodes[b]=!0);e=d[a][b];for(c=e.length-1;0<=c;c--)"bnode"===e[c].type&&(this._bnodes[e[c].value]=!0)}this._bnodesIndexed=!0}};e.prototype._trackBNodes=function(a,b,c){0===a.indexOf("_:")&&(this._bnodes[a]=!0);0===b.indexOf("_:")&&(this._bnodes[b]=!0);"bnode"===c.type&&
(this._bnodes[c.value]=!0)};return e})},"rdfjson/formats/rdfjson/util":function(){define([],function(){var g={isObject:function(c){return void 0!==c&&(null===c||"object"==typeof c||g.isArray(c)||g.isFunction(c))},isString:function(c){return"string"==typeof c||c instanceof String},isArray:function(c){return c&&(c instanceof Array||"array"==typeof c)},isFunction:function(c){return"[object Function]"===Object.prototype.toString.call(c)},statementEquals:function(c,d){return c.s===d.s&&c.p===d.p&&g.objectEquals(c.o,
d.o)},add:function(c,d,h,k){g.checkForWrongArgs(arguments);if(void 0===c[d])return c[d]={},c[d][h]=[k],k;if(void 0===c[d][h])return c[d][h]=[k],k;var e,a=c[d][h];for(e=a.length-1;0<=e;e--)if(g.objectEquals(k,a[e]))return a[e];a.push(k);return k},remove:function(c,d,h,k){g.checkForWrongArgs(arguments);if(!(void 0===c[d]||void 0===c[d][h])){var e,a=c[d][h];for(e=a.length-1;0<=e;e--)if(g.objectEquals(k,a[e]))return k=a[e],a.splice(e,1),g.cleanup(c,d,h),k}},contains:function(c,d,h,k){g.checkForWrongArgs(arguments);
if(!(void 0===c[d]||void 0===c[d][h])){var e,a=c[d][h];for(e=a.length-1;0<=e;e--)if(g.objectEquals(k,a[e]))return a[e]}},cleanup:function(c,d,h){if(0===c[d][h].length){delete c[d][h];h=!1;for(var k in c[d])if(c[d].hasOwnProperty(k)){h=!0;break}h||delete c[d]}},checkForWrongArgs:function(c){if(g.isObject(c[0]))if(g.isString(c[1]))if(g.isString(c[2]))if(g.isObject(c[3])){if(void 0===c[3].type)throw"Object has no type attribute, must be one of 'uri', 'literal', or 'bnode'";if(void 0===c[3].value)throw"Object has no value attribute corresponding to the lexical value of the object.";
}else throw"Object is not a object.";else throw"Predicate is not a string.";else throw"Subject is not a string.";else throw"Graph is not a object.";},objectEquals:function(c,d){return c===d||null==c&&c==d?!0:g.isString(c)?g.isString(d)?c===d:c===d.value:g.isString(d)?c.value===d:c.type===d.type&&c.value===d.value&&c.lang===d.lang&&c.datatype===d.datatype},findDirectOrRDFValue:function(c,d,h){d=c.find(d,h);if(0<d.length)return"bnode"!=d[0].getType()?d[0].getValue():c.findFirstValue(d[0].getValue(),
"http://www.w3.org/1999/02/22-rdf-syntax-ns#value")}};return g})},"rdfjson/Statement":function(){define(["./namespaces"],function(g){var c=function(c,h,k,e,a){this._graph=c;this._s=h;this._p=k;this._o=e;this._o._statement=this;this._asserted=a};c.prototype.getGraph=function(){return this._graph};c.prototype.setAsserted=function(c){c!=this._asserted&&(c?this._graph.add(this):this._graph.remove(this),this._asserted=c)};c.prototype.isAsserted=function(){return this._asserted};c.prototype.getSubject=
function(){return this._s};c.prototype.isSubjectBlank=function(){!0!==this._sIsBlank&&!1!==this._sIsBlank&&(this._sIsBlank=!0===this._graph._bnodes[this._s]);return this._sIsBlank};c.prototype.setSubject=function(c){c=g.expand(c);this._asserted?(this._graph.remove(this),this._s=c,this._graph.add(this),delete this._sIsBlank):this._s=c};c.prototype.getPredicate=function(){return this._p};c.prototype.setPredicate=function(c){c=g.expand(c);this._asserted?(this._graph.remove(this),this._p=c,this._graph.add(this)):
this._p=c};c.prototype.getObject=function(){return this._o};c.prototype.getCleanObject=function(){var c=this._o,h={value:c.value,type:c.type};c.language&&(h.language=c.language);this._o.datatype&&(h.datatype=c.datatype);return h};c.prototype.getType=function(){return this._o.type};c.prototype.setType=function(c){throw"Changing the type of an object is not supported, create a new statement instead.";};c.prototype.getValue=function(){return this._o.value};c.prototype.setValue=function(c){c!==this._o.value&&
(this._o.value=c,this.isAsserted()&&this._graph.setChanged())};c.prototype.getLanguage=function(){return this._o.lang};c.prototype.setLanguage=function(c){if("literal"!==this._o.type)throw"Cannot set the language for a resource, has to be a literal";this._o.lang!==c&&(this._o.lang=c,this.isAsserted()&&this._graph.setChanged())};c.prototype.getDatatype=function(){return this._o.datatype};c.prototype.setDatatype=function(c){if("literal"!==this._o.type||null!=this._o.lang)throw"Cannot set the datatype for a resource, has to be a literal";
this._o.datatype!==c&&(this._o.datatype=c,this.isAsserted()&&this._graph.setChanged())};return c})},"rdfjson/namespaces":function(){define(["exports"],function(g){var c={ical:"http://www.w3.org/2002/12/cal/ical#",vcard:"http://www.w3.org/2006/vcard/ns#",dcterms:"http://purl.org/dc/terms/",skos:"http://www.w3.org/2004/02/skos/core#",rdfs:"http://www.w3.org/2000/01/rdf-schema#",rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",owl:"http://www.w3.org/2002/07/owl#",vs:"http://www.w3.org/2003/06/sw-vocab-status/ns#",
foaf:"http://xmlns.com/foaf/0.1/",wot:"http://xmlns.com/wot/0.1/",dc:"http://purl.org/dc/elements/1.1/",xsd:"http://www.w3.org/2001/XMLSchema#"},d=0,h=function(d,e,a){c[d]||(c[d]=e);return{abbrev:d,ns:e,localname:a,full:e+a,pretty:d+":"+a}};g.nsify=function(k){for(var e in c)if(0===k.indexOf(c[e]))return h(e,c[e],k.substring(c[e].length));e=k.lastIndexOf("/");var a=k.lastIndexOf("#");a>e&&(e=a);d++;return h("ns"+d,k.substring(0,e+1),k.substring(e+1))};g.shorten=function(c){return g.nsify(c).pretty};
g.expand=function(d){var e=d.split(":");return 2===e.length&&c.hasOwnProperty(e[0])?c[e[0]]+e[1]:d};g.add=function(d,e){if("string"===typeof d)c[d]=e;else if("object"===typeof d)for(var a in d)d.hasOwnProperty(a)&&(c[a]=d[a])};g.registry=function(){return c};return g})},"rdforms/template/ItemStore":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/request ./Bundle ./Group ./PropertyGroup ./Text ./Choice ./OntologyStore ./Converter ../model/Engine".split(" "),function(g,c,
d,h,k,e,a,b,f,l,n,m){return g(null,{automaticSortAllowed:!0,ignoreMissingItems:!0,_bundles:null,_registry:null,_registryByProperty:null,_ontologyStore:null,getTemplate:function(a){return this.getItem(a)},getChildren:function(a,b){if(null==a)return[];var c=a.getSource(!0),f=c.content||c.items||[];return b?this._createItems(f,a._forceChildrenClones,a.getBundle()):(c=this.getItem(c["extends"]))?c.getChildren().concat(a.getChildren(!0)):a.getChildren(!0)},getItem:function(a){if(null!=a)return this._registry[a]},
getItems:function(){var a=[],b;for(b in this._registry)this._registry.hasOwnProperty(b)&&a.push(this._registry[b]);return a},renameItem:function(a,b){if(this._registry[b])throw"Cannot rename to "+b+" since an item with that id already exists.";if(""===b||null===b)throw"Cannot give an item an empty string or null as id.";var c=this._registry[a];c&&(delete this._registry[a],this._registry[b]=c,c.setId(b));for(var f=function(c){if(c=c.content)for(var d=0;d<c.length;d++){var e=c[d];if(e.id===a||e["@id"]===
a)e.id=b,delete e["@id"];e.content&&f(e)}},c=this.getItems(),d=0;d<c.length;d++){var h=c[d];h instanceof e&&f(h._source)}},getItemIds:function(){var a=[],b;for(b in this._registry)this._registry.hasOwnProperty(b)&&a.push(b);return a},getItemByProperty:function(a){return this._registryByProperty[a]},detectTemplate:function(a,b,c){return m.constructTemplate(a,b,this,c)},registerBundle:function(a){a.itemStore=this;var b=new k(a);this._bundles.push(b);var c=a.source.templates||a.source.auxilliary;c instanceof
Array&&this._createItems(c,!1,b);"object"===typeof a.source.cachedChoices&&this._ontologyStore.importRegistry(a.source.cachedChoices);return b},getBundles:function(){return this._bundles},createTemplate:function(a){return this.registerBundle({source:a}).getRoot()},createTemplateFromChildren:function(a){a=d.map(a||[],function(a){return"string"===typeof a?this.getItem(a):a},this);return new e({source:{},children:a,itemStore:this})},setPriorities:function(a){this.priorities=a},populate:function(a,b){var f=
a.length,e=function(){f--;0===f&&b()};d.forEach(a,function(a){if(c.isString(a)||"sirff"===a.type)a=c.isString(a)?a:a.url,h.get(a,{handleAs:"json"}).then(c.hitch(this,function(a){this.createTemplate(a);e()}),e);else if("exhibit"===a.type){var b;null==b&&(b=new n(this));b.convertExhibit(a.url,e)}},this)},createExtendedSource:function(a,b){var f=c.mixin(c.clone(a),b);f._extendedSource=b;f["extends"]=null;delete f.children;return f},createItem:function(d,h,k,g){var l,m=d.id||d["@id"],n=d.type||d["@type"];
if(d["extends"]){var x=this._registry[d["extends"]];if(null==x&&!this.ignoreMissingItems)throw"Cannot find item to extend with id: "+d["extends"];if(x)return d=this.createExtendedSource(x.getSource(),d),this.createItem(d,!1,!1,g)}if(null!=n){switch(n){case "text":l=new b({source:d,itemStore:this,bundle:g});break;case "choice":l=new f({source:d,itemStore:this,ontologyStore:this._ontologyStore,bundle:g});break;case "group":l=new e({source:d,children:null,itemStore:this,bundle:g});break;case "propertygroup":l=
new a({source:d,children:null,itemStore:this,bundle:g})}!0!==k&&(null!=d.property&&(this._registryByProperty[d.property]=l,this.priorities&&null!=this.priorities[d.property]&&(l.priority=this.priorities[d.property])),null!=m&&null==this._registry[m]&&(this._registry[m]=l,null!=g&&g.addItem(l)));return l}if(void 0===m)throw"Cannot create subitem, 'type' for creating new or 'id' for referencing external are required.";if(void 0===this._registry[m])throw"Cannot find referenced subitem using identifier: "+
m;for(var z in d)if(d.hasOwnProperty(z)&&"id"!==z&&"@id"!==z){h=!0;break}return!0===h?(d=c.mixin(c.clone(this._registry[m]._source),d),this.createItem(d,!1,!0)):this._registry[m]},removeItem:function(a,b){var c=a.getBundle();null!=c&&c.removeItem(a);null!=a.getId()&&delete this._registry[a.getId()];c=a.getProperty();null!=c&&this._registryByProperty[c]===a&&delete this._registryByProperty[c]},constructor:function(a){this._bundles=[];this._registry={};this._registryByProperty={};this._ontologyStore=
a||new l},_createItems:function(a,b,f){return d.map(a,function(d,e){c.isString(d)&&(d=a[e]={id:d});return this.createItem(d,b,!1,f)},this)}})})},"rdforms/template/OntologyStore":function(){define(["dojo/_base/declare"],function(g){return g(null,{_registry:null,importRegistry:function(c){dojo.mixin(this._registry,c)},getChoices:function(c,d){var h=this._findChoices(c);if(null!=h){if(null==d)return h;d(h)}},constructor:function(){this._registry={}},_findChoices:function(c){var d=this._registry[c.getOntologyUrl()];
if(null!=d)for(var h=0;h<d.length;h++){var k=d[h];if(this._objEqual(k.constraints,c.getConstraints())&&c.getParentProperty()==k.parentProperty&&c.getHierarchyProperty()==k.hierarchyProperty&&c.isParentPropertyInverted()==(k.isParentPropertyInverted||!1)&&c.isHierarchyPropertyInverted()==(k.isHierarchyPropertyInverted||!1))return k.choices}},_objEqual:function(c,d){var h={},k;for(k in c){if(c.hasOwnProperty(k)){var e=c[k],a=d[k];if(dojo.isObject(e)&&dojo.isObject(a)){if(!this._objEqual(e,a))return!1}else if(c[k]!==
d[k])return!1}h[k]=!0}for(k in d)if(!0!==h[k]&&d.hasOwnProperty(k))if(e=c[k],a=d[k],dojo.isObject(e)&&dojo.isObject(a)){if(!this._objEqual(e,a))return!1}else if(d[k]!==c[k])return!1;return!0},_constructLoadUrl:function(c){var d=[];d.push("constr\x3d"+encodeURIComponent(dojo.toJson(c.getConstraints())));if(null!=c.getParentProperty()){var h=!0===c.isParentPropertyInverted()?"ipp\x3d":"pp\x3d";d.push(h+encodeURIComponent(c.getParentProperty()))}null!=c.getHierarchyProperty()&&(h=!0===c.isHierarchyPropertyInverted()?
"ihp\x3d":"hp\x3d",d.push(h+encodeURIComponent(c.getHierarchyProperty())));return c.getOntologyUrl()+"?"+d.join("\x26")}})})},"rdforms/template/Converter":function(){define(["dojo/_base/declare"],function(g){return g(null,{convertExhibit:function(c,d){this._load(c,dojo.hitch(this,function(c){d(this._convertExhibit(c))}))},constructor:function(c){this._itemStore=c},_load:function(c,d){dojo.xhrGet({url:c,sync:!0,handleAs:"json-comment-optional"}).addCallback(d)},_convertExhibit:function(c){var d=[],
h=[];this._prepareExhibit(c);dojo.forEach(c.items,function(k){if("Property"===k.type){var e={id:k.id,property:k.id,label:{en:k.label},description:{en:k.description||k.comment}};if(!k.ranges||k.ranges["http://www.w3.org/2000/01/rdf-schema#Literal"])e.type="text",e.nodetype="LANGUAGE_LITERAL";else{k=this._getPropertiesForClasses(c,k.ranges);var a=[],b;for(b in k)k.hasOwnProperty(b)&&a.push({id:b});e.type="group";e.automatic=!0;e.content=a}d.push(e)}else if("Class"===k.type){e={id:k.id,label:{en:k.label},
description:{en:k.description||k.comment}};a={};a[k.id]=!0;k=this._getPropertiesForClasses(c,a);a=[];for(b in k)k.hasOwnProperty(b)&&a.push({id:b});0<a.length&&(e.type="group",e.content=a,e.automatic=!0,h.push(e))}},this);this._itemStore._createItems(d);this._itemStore._createItems(h);return{properties:dojo.map(d,function(c){return c.id}),classes:dojo.map(h,function(c){return c.id})}},_prepareExhibit:function(c){c.domainProperties={};c.propertyIndex={};c.classIndex={};dojo.forEach(c.items,function(d){switch(d.type){case "Property":c.propertyIndex[d.id]=
d;break;case "Class":c.classIndex[d.id]=d}});dojo.forEach(c.items,function(d){switch(d.type){case "Property":if(d.domain){var h=c.domainProperties[d.domain]||{};h[d.id]=!0;c.domainProperties[d.domain]=h}h=d;do h.range&&(null==d.ranges&&(d.ranges={}),d.ranges[h.range]=!0),h=c.propertyIndex[h.subPropertyOf];while(h)}})},_getPropertiesForClasses:function(c,d){var h={},k;for(k in d)d.hasOwnProperty(k)&&c.classIndex[k]&&this._getPropertiesForClassesRecursive(c,c.classIndex[k],h,{});return h},_getPropertiesForClassesRecursive:function(c,
d,h,k){if(!k[d.id]){k[d.id]=!0;var e=c.domainProperties[d.id],a;for(a in e)h[a]=!0;null!=d.subClassOf&&(dojo.isArray(d.subClassOf)?dojo.forEach(d.subClassOf,function(a){c.classIndex[a]&&this._getPropertiesForClassesRecursive(c,c.classIndex[a],h,k)},this):c.classIndex[d.subClassOf]&&this._getPropertiesForClassesRecursive(c,c.classIndex[d.subClassOf],h,k))}}})})},"rdforms/apps/RDFView":function(){define("dojo/_base/declare dojo/_base/lang dojo/topic dojo/json dijit/layout/_LayoutWidget dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dijit/layout/TabContainer dijit/form/SimpleTextarea rdfjson/Graph rdfjson/formats/converters dojo/text!./RDFViewTemplate.html".split(" "),
function(g,c,d,h,k,e,a,b,f,l,n,m){return g([k,e,a],{graph:"",subView:"rdf/xml",getGraph:function(){switch(this.subView){case "rdf/xml":return this.getRDFXML();case "rdf/json":return this.getRDFJSON()}},setGraph:function(a){switch(this.subView){case "rdf/xml":this.setRDFXML(a);case "rdf/json":this.setRDFJSON(a)}},templateString:m,startup:function(){this.inherited("startup",arguments);d.subscribe(this._tabContainer.id+"-selectChild",c.hitch(this,this._selectChild))},resize:function(){this.inherited("resize",
arguments);this._tabContainer&&this._tabContainer.resize()},getRDFXML:function(){return n.rdfxml2graph(this._rdfxml.get("value"))},setRDFXML:function(a){this._rdfxml.set("value",n.rdfjson2rdfxml(a))},getRDFJSON:function(){return new l(h.parse(this._rdfjson.get("value")))},setRDFJSON:function(a){this._rdfjson.set("value",h.stringify(a.exportRDFJSON(),0,2))},_selectChild:function(a){var b=this.getGraph();a===this._rdfxmlTab?this.subView="rdf/xml":a===this._rdfjsonTab&&(this.subView="rdf/json");this.setGraph(b)}})})},
"rdfjson/formats/converters":function(){define(["exports","./rdfjson/util","../Graph","./rdfxml/terms","./rdfxml/Rdfparser"],function(g,c,d,h,k){var e={ical:"http://www.w3.org/2002/12/cal/ical#",role:"http://purl.org/role/terms/",dcterms:"http://purl.org/dc/terms/",rdfs:"http://www.w3.org/2000/01/rdf-schema#",rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",owl:"http://www.w3.org/2002/07/owl#",vs:"http://www.w3.org/2003/06/sw-vocab-status/ns#",foaf:"http://xmlns.com/foaf/0.1/",wot:"http://xmlns.com/wot/0.1/",
dc:"http://purl.org/dc/elements/1.1/"},a=0;"undefined"!==typeof window&&("undefined"!==typeof window.DOMParser||"undefined"!==typeof ActiveXObject)?(g.xml2string=function(a){return a.xml},g.string2xml=function(a){var c;try{window.DOMParser?c=(new DOMParser).parseFromString(a,"text/xml"):(c=new ActiveXObject("Microsoft.XMLDOM"),c.async="false",c.loadXML(a))}catch(d){c=null}if(!c||!c.documentElement||c.getElementsByTagName("parsererror").length)throw"Could not parse text as xml";return c}):(g.xml2string=
function(a){return(new XMLSerializer).serializeToString(a)},require.has&&require.has("host-node")?require(["dojo/node!xmldom"],function(a){var c=a.DOMParser;g.string2xml=function(a){return(new c).parseFromString(a,"text/xml")}}):g.string2xml=function(a){return(new (require("xmldom").DOMParser)).parseFromString(a,"text/xml")});g.rdfxml2graph=function(a,f){c.isString(a)&&(a=g.string2xml(a));var e=f||new d({}),n=new h.RDFFormula;n.add=function(a,b,c){var d={};a instanceof h.RDFBlankNode?(a=a.toString(),
e.registerBNode(a)):a=a.uri;b instanceof h.RDFBlankNode?(b=b.toString(),e.registerBNode(b)):b=b.uri;c instanceof h.RDFLiteral?(d.type="literal",d.value=c.value,c.lang&&(d.lang=c.lang),c.datatype&&(d.datatype=c.datatype.uri)):c instanceof h.RDFSymbol?(d.type="uri",d.value=c.uri):c instanceof h.RDFBlankNode&&(d.value=c.toString(),e.registerBNode(d.value),d.type="bnode");e.create(a,b,d,!0)};(new k(n)).parse(a,"","");return e};g.rdfjson2rdfxml=function(b){b=b instanceof d?b:new d(b);var c=[],h,k,g,q,
r,p,s,v=b._graph||b,u={};b=[];for(h in v)if(v.hasOwnProperty(h)){"_:"===h.substr(0,2)?b.push('  \x3crdf:Description rdf:nodeID\x3d"_'+h.substring(2)+'"\x3e\n'):b.push('  \x3crdf:Description rdf:about\x3d"'+h+'"\x3e\n');r=v[h];for(k in r)if(r.hasOwnProperty(k)){p=r[k];a:{g=k;s=void 0;for(s in e)if(e.hasOwnProperty(s)&&0===g.indexOf(e[s])){u[s]||(c.push(s),u[s]=!0);g=s+":"+g.substring(e[s].length);break a}q=g.lastIndexOf("/");s=g.lastIndexOf("#");s>q&&(q=s);a++;s="ns"+a;e[s]=g.substring(0,q+1);c.push(s);
u[s]=!0;g=s+":"+g.substring(q+1)}for(s=0;s<p.length;s++)switch(q=p[s],q.type){case "literal":var w=q.value.replace("\x26","\x26amp;").replace("\x3c","\x26lt;");null!=q.lang?b.push("    \x3c"+g+' xml:lang\x3d"'+q.lang+'"\x3e'+w+"\x3c/"+g+"\x3e\n"):null!=q.datatype?b.push("    \x3c"+g+' rdf:datatype\x3d"'+q.datatype+'"\x3e'+w+"\x3c/"+g+"\x3e\n"):b.push("    \x3c"+g+"\x3e"+w+"\x3c/"+g+"\x3e\n");break;case "uri":b.push("    \x3c"+g+' rdf:resource\x3d"'+q.value+'"/\x3e\n');break;case "bnode":"_:"===q.value.substr(0,
2)?b.push("    \x3c"+g+' rdf:nodeID\x3d"_'+q.value.substring(2)+'"/\x3e\n'):b.push("    \x3c"+g+' rdf:nodeID\x3d"'+q.value+'"/\x3e\n')}}b.push("  \x3c/rdf:Description\x3e\n")}h=['\x3c?xml version\x3d"1.0"?\x3e\n\x3crdf:RDF xmlns:rdf\x3d"http://www.w3.org/1999/02/22-rdf-syntax-ns#"'];for(k=0;k<c.length;k++)"rdf"!==c[k]&&h.push("\n\txmlns:"+c[k]+'\x3d"'+e[c[k]]+'"');h.push("\x3e\n");b.unshift(h.join(""));b.push("\x3c/rdf:RDF\x3e");return b.join("")};g.detect=function(a){var c={};if("string"===typeof a)if(-1!==
a.substr(0,100).substr(0,100).toLowerCase().indexOf("\x3crdf:rdf")){c.format="rdf/xml";try{c.graph=g.rdfxml2graph(a)}catch(e){c.error="Invalid rdf/xml"}}else if('{"'===a.substring(0,2)){c.format="rdf/json";if("undefined"===typeof JSON||"function"!==typeof JSON.parse)throw"Cannot parse rdf/json since the standard JSON parser is not available.";try{var h=JSON.parse(this.rdfjson);c.graph=new d(h)}catch(k){c.error="Invalid json."}}else c.error="No RDF detected.";else a instanceof d?(c.format="rdf/json",
c.graph=a):lang.isObject(a)?(c.format="rdf/json",c.graph=new d(a)):c.error="unknown format";!c.error&&!c.graph.validate().valid&&(c.error="RDF/JSON is not valid.");return c};g.namespaces=function(){return e};g.addNamespace=function(a,c){e[a]=c}})},"rdfjson/formats/rdfxml/terms":function(){define(["./uri"],function(g){var c=function(b){if("object"==typeof b)return b;if("string"==typeof b)return new a(b);"undefined"!=typeof b&&alert("Can't make term from "+b+" of type "+typeof b)},d=function(){return"\x3c"+
this.uri+"\x3e"},h=function(a){this.uri=a;return this};h.prototype.termType="symbol";h.prototype.toString=d;h.prototype.toNT=d;var k=0,e=function(){this.id=k++;return this};e.prototype.termType="bnode";e.prototype.toNT=function(){return"_:n"+this.id};e.prototype.toString=e.prototype.toNT;var a=function(a,b,c){this.value=a;this.lang=b;this.datatype=c;return this};a.prototype.termType="literal";a.prototype.toNT=function(){var a=this.value;if("string"!=typeof a)throw Error("Value of RDF literal is not string: "+
a);a=a.replace(/\\/g,"\\\\");a=a.replace(/"/g,'\\"');a='"'+a+'"';this.datatype&&(a=a+"^^"+this.datatype);this.lang&&(a=a+"@"+this.lang);return a};a.prototype.toString=function(){return this.value};var b=function(){this.id=k++;this.elements=[];this.closed=!1};b.prototype.termType="collection";b.prototype.toNT=function(){return"_:n"+this.id};b.prototype.toString=b.prototype.toNT;b.prototype.append=function(a){this.elements.push(a)};b.prototype.close=function(){this.closed=!0};var d=function(){return this.subject.toNT()+
" "+this.predicate.toNT()+" "+this.object.toNT()+" ."},f=function(a,b,d,f){this.subject=c(a);this.predicate=c(b);this.object=c(d);"undefined"!=typeof f&&(this.why=f);return this};f.prototype.toNT=d;f.prototype.toString=d;var l=function(){this.statements=[];this.constraints=[];this.initBindings=[];this.optional=[];return this},d=function(){return"{\n"+this.statements.join("\n")+"}"};l.prototype.termType="formula";l.prototype.toNT=d;l.prototype.toString=d;l.prototype.add=function(a,b,c,d){this.statements.push(new f(a,
b,c,d))};l.prototype.sym=function(a,b){null!=b&&(a=this.namespaces[a]+b);return new h(a)};l.prototype.literal=function(b,c,d){return new a(b.toString(),c,d)};l.prototype.bnode=function(){return new e};l.prototype.formula=function(){return new l};l.prototype.collection=function(){return new b};var n=function(a){this.uri=g.join(a,"varid:");return this};n.prototype.termType="variable";n.prototype.toNT=function(){return"varid:"==this.uri.slice(0,6)?"?"+this.uri.slice(6):"?"+this.uri};n.prototype.toString=
n.prototype.toNT;n.prototype.classOrder=7;l.prototype.variable=function(a){return new n(a)};n.prototype.hashString=n.prototype.toNT;l.prototype.fromNT=function(a){var b=a.length,c=a.slice(0,1);if("\x3c"==c)return this.sym(a.slice(1,b-1));if("_"==c)return b=new e,b.id=parseInt(a.slice(3)),k--,b;alert("Can't yet convert from NT: '"+a+"', "+a[0])};return{RDFSymbol:h,RDFFormula:l,RDFBlankNode:e,RDFLiteral:a}})},"rdfjson/formats/rdfxml/uri":function(){define([],function(){return{join:function(g,c){var d=
c.indexOf("#");0<d&&(c=c.slice(0,d));if(0==g.length)return c;if(0==g.indexOf("#"))return c+g;if(0<=g.indexOf(":"))return g;var h=c.indexOf(":");if(0>h)return g;d=c.slice(0,h+1);if(0==g.indexOf("//"))return d+g;var k;if(c.indexOf("//",h)==h+1){if(k=c.indexOf("/",h+3),0>k)return 0<c.length-h-3?c+"/"+g:d+g}else if(k=c.indexOf("/",h+1),0>k)return 0<c.length-h-1?c+"/"+g:d+g;if(0==g.indexOf("/"))return c.slice(0,k)+g;var h=c.slice(k),e=h.lastIndexOf("/");if(0>e)return d+g;0<=e&&e<h.length-1&&(h=h.slice(0,
e+1));for(h+=g;h.match(/[^\/]*\/\.\.\//);)h=h.replace(/[^\/]*\/\.\.\//,"");h=h.replace(/\.\//g,"");return c.slice(0,k)+h},docpart:function(g){var c=g.indexOf("#");return 0>c?g:g.slice(0,c)},protocol:function(g){return g.slice(0,g.indexOf(":"))}}})},"rdfjson/formats/rdfxml/Rdfparser":function(){define(["./uri"],function(g){var c;return c=function(d){c.ns={RDF:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",RDFS:"http://www.w3.org/2000/01/rdf-schema#"};c.nodeType={ELEMENT:1,ATTRIBUTE:2,TEXT:3,CDATA_SECTION:4,
ENTITY_REFERENCE:5,ENTITY:6,PROCESSING_INSTRUCTION:7,COMMENT:8,DOCUMENT:9,DOCUMENT_TYPE:10,DOCUMENT_FRAGMENT:11,NOTATION:12};this.frameFactory=function(d,k,e){return{NODE:1,ARC:2,parent:k,parser:d,store:d.store,element:e,lastChild:0,base:null,lang:null,node:null,nodeType:null,listIndex:1,rdfid:null,datatype:null,collection:!1,terminateFrame:function(){this.collection&&this.node.close()},addSymbol:function(a,b){b=g.join(b,this.base);this.node=this.store.sym(b);this.nodeType=a},loadTriple:function(){this.parent.parent.collection?
this.parent.parent.node.append(this.node):this.store.add(this.parent.parent.node,this.parent.node,this.node,this.parser.why);if(null!=this.parent.rdfid){var a=this.store.sym(g.join("#"+this.parent.rdfid,this.base));this.store.add(a,this.store.sym(c.ns.RDF+"type"),this.store.sym(c.ns.RDF+"Statement"),this.parser.why);this.store.add(a,this.store.sym(c.ns.RDF+"subject"),this.parent.parent.node,this.parser.why);this.store.add(a,this.store.sym(c.ns.RDF+"predicate"),this.parent.node,this.parser.why);this.store.add(a,
this.store.sym(c.ns.RDF+"object"),this.node,this.parser.why)}},isTripleToLoad:function(){return null!=this.parent&&null!=this.parent.parent&&this.nodeType==this.NODE&&this.parent.nodeType==this.ARC&&this.parent.parent.nodeType==this.NODE},addNode:function(a){this.addSymbol(this.NODE,a);this.isTripleToLoad()&&this.loadTriple()},addCollection:function(){this.nodeType=this.NODE;this.node=this.store.collection();this.collection=!0;this.isTripleToLoad()&&this.loadTriple()},addCollectionArc:function(){this.nodeType=
this.ARC},addBNode:function(a){this.node=null!=a?null!=this.parser.bnodes[a]?this.parser.bnodes[a]:this.parser.bnodes[a]=this.store.bnode():this.store.bnode();this.nodeType=this.NODE;this.isTripleToLoad()&&this.loadTriple()},addArc:function(a){a==c.ns.RDF+"li"&&(a=c.ns.RDF+"_"+this.parent.listIndex++);this.addSymbol(this.ARC,a)},addLiteral:function(a){this.node=this.parent.datatype?this.store.literal(a,"",this.store.sym(this.parent.datatype)):this.store.literal(a,this.lang);this.nodeType=this.NODE;
this.isTripleToLoad()&&this.loadTriple()}}};this.store=d;this.bnodes={};this.why=null;this.reify=!1;this.parse=function(d,g,e){var a=d.childNodes,b;this.cleanParser();if(d.nodeType==c.nodeType.DOCUMENT)for(d=0;d<a.length;d++){if(a[d].nodeType==c.nodeType.ELEMENT){b=a[d];break}}else if(d.nodeType==c.nodeType.ELEMENT)b=d;else throw Error("RDFParser: can't find root in "+g+". Halting. ");this.why=e;e=this.frameFactory(this);e.base=g;e.lang="";this.parseDOM(this.buildFrame(e,b));return!0};this.parseDOM=
function(d){for(var k=function(a){return a.namespaceURI+a.localName},e=!0;d.parent;){var a,b=d.element,f=b.attributes;if(b.nodeType==c.nodeType.TEXT||b.nodeType==c.nodeType.CDATA_SECTION)d.addLiteral(b.nodeValue);else if(k(b)!=c.ns.RDF+"RDF")if(d.parent&&d.parent.collection&&(d.addCollectionArc(),d=this.buildFrame(d,d.element),d.parent.element=null),!d.parent||!d.parent.nodeType||d.parent.nodeType==d.ARC){var l=b.getAttributeNodeNS(c.ns.RDF,"about");a=b.getAttributeNodeNS(c.ns.RDF,"ID");if(l&&a)throw Error("RDFParser: "+
b.nodeName+" has both rdf:id and rdf:about. Halting. Only one of these properties may be specified on a node.");null==l&&a?(d.addNode("#"+a.nodeValue),b.removeAttributeNode(a)):null==l&&null==a?(a=b.getAttributeNodeNS(c.ns.RDF,"nodeID"))?(d.addBNode(a.nodeValue),b.removeAttributeNode(a)):d.addBNode():(d.addNode(l.nodeValue),b.removeAttributeNode(l));a=b.getAttributeNodeNS(c.ns.RDF,"type");c.ns.RDF+"Description"!=k(b)&&(a={nodeValue:k(b)});null!=a&&(this.store.add(d.node,this.store.sym(c.ns.RDF+"type"),
this.store.sym(g.join(a.nodeValue,d.base)),this.why),a.nodeName&&b.removeAttributeNode(a));for(b=f.length-1;0<=b;b--)this.store.add(d.node,this.store.sym(k(f[b])),this.store.literal(f[b].nodeValue,d.lang),this.why)}else{d.addArc(k(b));if(this.reify&&(a=b.getAttributeNodeNS(c.ns.RDF,"ID")))d.rdfid=a.nodeValue,b.removeAttributeNode(a);a=b.getAttributeNodeNS(c.ns.RDF,"parseType");if(l=b.getAttributeNodeNS(c.ns.RDF,"datatype"))d.datatype=l.nodeValue,b.removeAttributeNode(l);a&&(l=a.nodeValue,"Literal"==
l?(d.datatype=c.ns.RDF+"XMLLiteral",d=this.buildFrame(d),d.addLiteral(b),e=!1):"Resource"==l?(d=this.buildFrame(d,d.element),d.parent.element=null,d.addBNode()):"Collection"==l&&(d=this.buildFrame(d,d.element),d.parent.element=null,d.addCollection()),b.removeAttributeNode(a));if(0!=f.length){l=b.getAttributeNodeNS(c.ns.RDF,"resource");a=b.getAttributeNodeNS(c.ns.RDF,"nodeID");d=this.buildFrame(d);l?(d.addNode(l.nodeValue),b.removeAttributeNode(l)):a?(d.addBNode(a.nodeValue),b.removeAttributeNode(a)):
d.addBNode();for(b=f.length-1;0<=b;b--)a=this.buildFrame(d),a.addArc(k(f[b])),k(f[b])==c.ns.RDF+"type"?this.buildFrame(a).addNode(f[b].nodeValue):this.buildFrame(a).addLiteral(f[b].nodeValue)}else 0==b.childNodes.length&&this.buildFrame(d).addLiteral("")}for(b=d.element;d.parent;){for(f=d;null==b;)d=d.parent,b=d.element;a=b.childNodes;a=null!=a?a[d.lastChild]:null;if(null==a||!e){d.terminateFrame();if(!(d=d.parent))break;b=d.element;e=!0}else if(a.nodeType!=c.nodeType.ELEMENT&&a.nodeType!=c.nodeType.TEXT&&
a.nodeType!=c.nodeType.CDATA_SECTION||(a.nodeType==c.nodeType.TEXT||a.nodeType==c.nodeType.CDATA_SECTION)&&1!=b.childNodes.length)d.lastChild++;else{d.lastChild++;d=this.buildFrame(f,b.childNodes[d.lastChild-1]);break}}}};this.cleanParser=function(){this.bnodes={};this.why=null};this.buildFrame=function(d,g){var e=this.frameFactory(this,d,g);d&&(e.base=d.base,e.lang=d.lang);if(null==g||g.nodeType==c.nodeType.TEXT||g.nodeType==c.nodeType.CDATA_SECTION)return e;var a=g.attributes,b=g.getAttributeNode("xml:base");
null!=b&&(e.base=b.nodeValue,g.removeAttribute("xml:base"));b=g.getAttributeNode("xml:lang");null!=b&&(e.lang=b.nodeValue,g.removeAttribute("xml:lang"));for(b=a.length-1;0<=b;b--)"xml"==a[b].nodeName.substr(0,3)&&g.removeAttributeNode(a[b]);return e}}})},"rdforms/apps/Validator":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/window dojo/json dojo/dom-class dojo/dom-construct dojo/dom-attr dojo/dom-style dijit/_WidgetBase dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dijit/TitlePane dijit/form/SimpleTextarea dijit/form/Button dijit/Dialog rdfjson/Graph ../model/Engine ../template/ItemStore ../view/ValidationPresenter dojo/text!./ValidatorTemplate.html".split(" "),
function(g,c,d,h,k,e,a,b,f,l,n,m,q,r,p,s,v,u,w,x,z){return g([l,n,m],{itemStore:null,type2template:null,rdfjson:null,rdfjsonEditorOpen:!1,templateString:z,postCreate:function(){this.inherited("postCreate",arguments);this.itemStore=this.itemStore||new w;"string"===typeof this.rdfjson?this._rdfjsonDijit.set("value",this.rdfjson):this._rdfjsonDijit.set("value",k.stringify(this.rdfjson,!0,"  "));this._update()},_update:function(){this._validateJSON();this._validateRDFJSON();this._validateRForms()},_validateJSON:function(){delete this._rdfjsonObj;
try{this._rdfjsonObj=k.parse(this._rdfjsonDijit.get("value")),e.toggle(this._jsonNode,"error",!1),b.set(this._jsonNode,"innerHTML","RDF input: Valid JSON")}catch(a){e.toggle(this._jsonNode,"error",!0),b.set(this._jsonNode,"innerHTML","RDF input: Invalid JSON: "+a)}},_validateRDFJSON:function(){delete this._graph;b.set(this._rdfjsonNode,"innerHTML","");e.toggle(this._rdfjsonNode,"error",!1);if(null!=this._rdfjsonObj)try{this._graph=new v(this._rdfjsonObj,!1),this._graph.validate(),a.create("div",{innerHTML:"RDF input: Valid RDF/JSON, "+
this._graph.report.nr+" statements found."},this._rdfjsonNode)}catch(c){e.toggle(this._rdfjsonNode,"error",!0),a.create("div",{innerHTML:"RDF input: Invalid RDF/JSON, although "+c.nr+" valid statements found."},this._rdfjsonNode),this._explainInvalidRDFJSON(c)}},_explainInvalidRDFJSON:function(b){var c=a.create("table",{"class":"report"},this._rdfjsonNode),f=a.create("tr",null,c);a.create("th",{innerHTML:"Subject"},f);a.create("th",{innerHTML:"Predicate"},f);a.create("th",{innerHTML:"ObjectNr"},f);
a.create("th",{innerHTML:"Error"},f);d.forEach(b.errors,function(b){var d=a.create("tr",null,c);a.create("td",{innerHTML:b.s},d);a.create("td",{innerHTML:b.p||""},d);a.create("td",{innerHTML:""+(b.oindex||"")},d);a.create("td",{innerHTML:b.message},d)})},_validateRForms:function(){b.set(this._rformsNode,"innerHTML","");e.toggle(this._rformsNode,"error",!1);if(null!=this._graph)for(var a in this.type2template)this.type2template.hasOwnProperty(a)&&this._checkInstances(a,this.type2template[a])},_checkInstances:function(b,
f){var g=this.itemStore.getTemplate(f),h=this._graph.find(null,"http://www.w3.org/TR/rdf-schema/type",b);0<h.length&&a.create("div",{"class":"instanceType",innerHTML:b},this._rformsNode);d.forEach(h,function(b){var f=a.create("div",{"class":"instance"},this._rformsNode),h=u.match(this._graph,b.getSubject(),g),k=h.report();if(0<k.errors.length||0<k.warnings.length){0<k.errors.length?e.add(f,"error"):e.add(f,"warning");a.create("div",{"class":"instanceHeading",innerHTML:"\x3cspan class\x3d'action info'\x3e\x3c/span\x3e\x26nbsp;\x3cb\x3e"+
b.getSubject()+"\x3c/b\x3e is not ok:",onclick:c.hitch(this,this._openView,h,g)},f);var l=a.create("table",{"class":"report"},f);b=a.create("tr",null,l);a.create("th",{innerHTML:"Severity"},b);a.create("th",{innerHTML:"Subject"},b);a.create("th",{innerHTML:"Predicate"},b);a.create("th",{innerHTML:"Problem"},b);d.forEach(k.errors,function(b){var c=a.create("tr",{"class":"error"},l);a.create("td",{innerHTML:"Error"},c);a.create("td",{innerHTML:b.parentBinding.getChildrenRootUri()},c);a.create("td",
{innerHTML:b.item.getProperty()},c);a.create("td",{innerHTML:b.message},c)});d.forEach(k.warnings,function(b){var c=a.create("tr",{"class":"warning"},l);a.create("td",{innerHTML:"Warning"},c);a.create("td",{innerHTML:b.parentBinding.getChildrenRootUri()},c);a.create("td",{innerHTML:b.item.getProperty()},c);a.create("td",{innerHTML:b.message},c)})}else a.create("div",{"class":"instanceHeading",innerHTML:"\x3cspan class\x3d'action info'\x3e\x3c/span\x3e\x26nbsp;\x3cb\x3e"+b.getSubject()+"\x3c/b\x3e is ok ",
onclick:c.hitch(this,this._openView,h,g)},f)},this)},_openView:function(b,c){var d=a.create("div"),e=new s({content:d}),d=new x({template:c,binding:b,includeLevel:"recommended",compact:!0},d),g=h.getBox();f.set(d.domNode,{width:Math.floor(0.7*g.w)+"px",height:Math.floor(0.7*g.h)+"px",overflow:"auto",position:"relative"});e.show()}})})},"rdforms/view/ValidationPresenter":function(){define("dojo/_base/declare dojo/dom-class dojo/dom-construct ../template/Group ../template/PropertyGroup ../model/Engine ./Presenter".split(" "),
function(g,c,d,h,k,e,a){var b=g(a,{showLanguage:!0,filterTranslations:!1,styleCls:"rformsPresenter",showNow:function(a,b){if(a.hasStyle("invisible"))return!1;if(0<b.length)return!0;var c=a.getCardinality();switch(this.includeLevel){case "mandatory":return c&&1<=c.min;case "recommended":return c&&(1<=c.min||1<=c.pref);default:return!0}},showAsTable:function(){return!1},prepareBindings:function(a,b){var c=a.getCardinality(),d=null!=c.min?c.min:0,g=null!=c.pref?c.pref:0,c=0<c.pref?c.pref:0<c.min?c.min:
a instanceof k?0:a instanceof h?null==a.getProperty()?1:0:1;if(c>b.length)for(b=b.concat([]);c>b.length;){var r=e.create(this.binding,a);b.length<d?r.error=!0:b.length<g&&(r.warning=!0);b.push(r)}return b},skipBinding:function(a){return!1},addValidationMarker:function(a,b){var e=b.getItem().getCardinality(),g=null!=e.min?e.min:0,e=null!=e.pref?e.pref:0;return b.error?(c.add(a,"error"),d.create("div",{innerHTML:""+g+" value"+(1===g?"":"s")+" is required"},a),!0):b.warning?(c.add(a,"warning"),d.create("div",
{innerHTML:""+e+" value"+(1===e?"":"s")+" is recommended."},a),!0):!1},addGroup:function(a,c){this.addValidationMarker(a,c)||new b({binding:c,topLevel:!1},a)},addText:function(a,b){this.addValidationMarker(a,b)||this.inherited("addText",arguments)},addChoice:function(a,b){this.addValidationMarker(a,b)||this.inherited("addChoice",arguments)}});return b})},"rdforms/apps/LDBrowser":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/on dojo/promise/all dojo/Deferred dojo/request dojo/dom-style dojo/dom-construct dojo/dom-attr dijit/layout/_LayoutWidget dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin dijit/layout/TabContainer dijit/layout/ContentPane dijit/layout/BorderContainer dijit/form/TextBox dijit/Dialog dijit/ProgressBar rdforms/model/Engine rdforms/view/Presenter rdforms/apps/RDFView rdforms/model/system rdforms/template/ItemStore rdfjson/Graph rdfjson/formats/converters dojo/hash dojo/topic dojo/keys dojo/io-query dojo/text!./LDBrowserTemplate.html".split(" "),
function(g,c,d,h,k,e,a,b,f,l,n,m,q,r,p,s,v,u,w,x,z,H,G,C,A,B,t,D,E,y,F){return g([n,m,q],{itemStore:null,initialURI:"",exampleURIs:null,type2template:null,pattern2template:null,bundlePaths:null,keyInFragment:"uri",rdf:null,rdfFormat:"rdf/json",graph:null,proxyLoadResourcePattern:null,proxyLoadResourcePattern2:null,loadResourceMessage:"Loading Resource",loadResourceMessage2:"Loading Resource via secondary mechanism",loadResourceFailed:"Failed to load resource",showResource:function(a){this.textboxURI.set("value",
a);this.loadResource(a).then(c.hitch(this,function(b){this._showBrowse(a,b);this._rdfTab.setGraph(b)}))},showOrUpdateLoadProgress:function(a){if(!this._progressDialog){var b=f.create("div",{style:{width:"400px",height:"100px"}});this._progressMessage=f.create("div",{"class":"progressMessage"},b);this._progressBar=new w({value:"infinity",indeterminate:!0},f.create("div",null,b));this._progressDialog=new u;this._progressDialog.setContent(b)}l.set(this._progressMessage,"innerHTML",a);this._progressDialog.show()},
endLoadProgress:function(){this._progressDialog.hide()},failedLoadProgress:function(a){this._progressDialog.hide();alert(this.loadResourceFailed)},loadResource:function(b,d){var f=!0===d?this.proxyLoadResourcePattern2:this.proxyLoadResourcePattern;if(f){var f=c.replace(f,{uri:encodeURIComponent(b)}),g;switch(this.rdfFormat){case "rdf/xml":g={headers:{Accept:"application/rdf+xml"},handleAs:"string"};break;default:g={headers:{Accept:"application/rdf+json"},handleAs:"json"}}this.showOrUpdateLoadProgress(d?
this.loadResourceMessage2:this.loadResourceMessage);return a.get(f,g).then(c.hitch(this,function(a){this.endLoadProgress();return this._convertRDF(a)}),c.hitch(this,function(a){if(!0===d||null==this.proxyLoadResourcePattern2)this.failedLoadProgress();else return this.loadResource(b,!0)}))}if(this.graph)return f=new e,f.resolve(this.graph),f.promise},loadJSON:function(b){return a.get(b,{handleAs:"json"})},suggestedTemplate:function(a,b){if(this.pattern2template)for(var c in this.pattern2template)if(this.pattern2template.hasOwnProperty(c)&&
RegExp(c).test(a))return this.pattern2template[c];if(this.type2template){c=b.find(a,"http://www.w3.org/1999/02/22-rdf-syntax-ns#type");for(var d=0;d<c.length;d++){var f=this.type2template[c[d].getValue()];if(null!=f)return f}}if(this.defaultTemplate)return this.defaultTemplate},templateString:F,_graph:null,_presenterTab:null,_rdfTab:null,postCreate:function(){this.inherited("postCreate",arguments);null==this.itemStore&&(this.itemStore=new C);var a=this,e=function(){G.attachLinkBehaviour=function(b,
c){h(b,"click",function(b){b.preventDefault();b=y.queryToObject(t());b[a.keyInFragment]=c.getValue();t(y.objectToQuery(b))})};var b=function(){var b=y.queryToObject(t());b[a.keyInFragment]?a.showResource(b[a.keyInFragment]):a.initialURI&&(b[a.keyInFragment]=a.initialURI,t(y.objectToQuery(b)))};D.subscribe("/dojo/hashchange",b);setTimeout(b,1)},g=c.hitch(this,function(g){c.mixin(this,this.config,g);this._convertRDF(this.rdf);this.exampleURIs&&(b.set(this.examplesBlock,"display",""),b.set(this._borderContainer.domNode,
"top","55"),d.forEach(this.exampleURIs,function(b){var c=f.create("a",{href:b,innerHTML:b},this.examples);f.create("span",{innerHTML:", "},this.examples);h(c,"click",function(c){c.preventDefault();c=y.queryToObject(t());c[a.keyInFragment]=b;t(y.objectToQuery(c))})},this));null!=this.bundlePaths&&null!=this.bundlePaths?k(d.map(this.bundlePaths,function(a){return this.loadJSON(a)},this)).then(c.hitch(this,function(a){d.forEach(a,function(a,b){this.itemStore.registerBundle({path:this.bundlePaths[b],
source:a})},this);e()})):e()});if(this.configPath){var l=this.configPath.substring(0,this.configPath.lastIndexOf("/"));this.loadJSON(this.configPath).then(function(a){""!==l&&null!=a.bundlePaths&&(a.bundlePaths=d.map(a.bundlePaths,function(a){return l+a}));g(a)})}else g();this.startup()},resize:function(){this.inherited("resize",arguments);this._borderContainer&&this._borderContainer.resize()},_convertRDF:function(a){this.rdf=a;if(null!=this.rdf)switch(this.rdfFormat){case "rdf/json":return this.graph=
new A(this.rdf,!1);case "rdf/xml":return this.graph=B.rdfxml2graph(this.rdf)}},_showBrowse:function(a,b){var d=this.suggestedTemplate(a,b)||[];c.isString(d)&&(d=[d]);d=x.constructTemplate(b,a,this.itemStore,d);d=x.match(b,a,d);this.presenter.show({binding:d})},_uriKeypress:function(a){a.keyCode===E.ENTER&&(a=y.queryToObject(t()),a[this.keyInFragment]=this.textboxURI.get("value"),t(y.objectToQuery(a)))},_loadConfig:function(a){}})})},"dijit/ProgressBar":function(){define("require dojo/_base/declare dojo/dom-class dojo/_base/lang dojo/number ./_Widget ./_TemplatedMixin dojo/text!./templates/ProgressBar.html".split(" "),
function(g,c,d,h,k,e,a,b){return c("dijit.ProgressBar",[e,a],{progress:"0",value:"",maximum:100,places:0,indeterminate:!1,label:"",name:"",templateString:b,_indeterminateHighContrastImagePath:g.toUrl("./themes/a11y/indeterminate_progress.gif"),postMixInProperties:function(){this.inherited(arguments);this.params&&"value"in this.params||(this.value=this.indeterminate?Infinity:this.progress)},buildRendering:function(){this.inherited(arguments);this.indeterminateHighContrastImage.setAttribute("src",this._indeterminateHighContrastImagePath.toString());
this.update()},_setDirAttr:function(a){d.toggle(this.domNode,"dijitProgressBarRtl","rtl"==a);this.inherited(arguments)},update:function(a){h.mixin(this,a||{});a=this.internalProgress;var b=this.domNode,c=1;this.indeterminate?b.removeAttribute("aria-valuenow"):(-1!=String(this.progress).indexOf("%")?(c=Math.min(parseFloat(this.progress)/100,1),this.progress=c*this.maximum):(this.progress=Math.min(this.progress,this.maximum),c=this.maximum?this.progress/this.maximum:0),b.setAttribute("aria-valuenow",
this.progress));b.setAttribute("aria-labelledby",this.labelNode.id);b.setAttribute("aria-valuemin",0);b.setAttribute("aria-valuemax",this.maximum);this.labelNode.innerHTML=this.report(c);d.toggle(this.domNode,"dijitProgressBarIndeterminate",this.indeterminate);a.style.width=100*c+"%";this.onChange()},_setValueAttr:function(a){this._set("value",a);Infinity==a?this.update({indeterminate:!0}):this.update({indeterminate:!1,progress:a})},_setLabelAttr:function(a){this._set("label",a);this.update()},_setIndeterminateAttr:function(a){this._set("indeterminate",
a);this.update()},report:function(a){return this.label?this.label:this.indeterminate?"\x26#160;":k.format(a,{type:"percent",places:this.places,locale:this.lang})},onChange:function(){}})})},"dojo/hash":function(){define("./_base/kernel require ./_base/config ./aspect ./_base/lang ./topic ./domReady ./sniff".split(" "),function(g,c,d,h,k,e,a,b){function f(a,b){var c=a.indexOf(b);return 0<=c?a.substring(c+1):""}function l(){return f(location.href,"#")}function n(){e.publish("/dojo/hashchange",l())}
function m(){l()!==p&&(p=l(),n())}function q(a){if(s)if(s.isTransitioning())setTimeout(k.hitch(null,q,a),u);else{var b=s.iframe.location.href,c=b.indexOf("?");s.iframe.location.replace(b.substring(0,c)+"?"+a)}else location.replace("#"+a),!v&&m()}function r(){function a(){p=l();h=r?p:f(t.href,"?");m=!1;q=null}var b=document.createElement("iframe"),e=d.dojoBlankHtmlUrl||c.toUrl("./resources/blank.html");b.id="dojo-hash-iframe";b.src=e+"?"+l();b.style.display="none";document.body.appendChild(b);this.iframe=
g.global["dojo-hash-iframe"];var h,m,q,s,r,t=this.iframe.location;this.isTransitioning=function(){return m};this.pollLocation=function(){if(!r)try{var c=f(t.href,"?");document.title!=s&&(s=this.iframe.document.title=document.title)}catch(d){r=!0}var g=l();if(m&&p===g)if(r||c===q)a(),n();else{setTimeout(k.hitch(this,this.pollLocation),0);return}else if(!(p===g&&(r||h===c))){if(p!==g){p=g;m=!0;q=g;b.src=e+"?"+q;r=!1;setTimeout(k.hitch(this,this.pollLocation),0);return}r||(location.href="#"+t.search.substring(1),
a(),n())}setTimeout(k.hitch(this,this.pollLocation),u)};a();setTimeout(k.hitch(this,this.pollLocation),u)}g.hash=function(a,b){if(!arguments.length)return l();"#"==a.charAt(0)&&(a=a.substring(1));b?q(a):location.href="#"+a;return a};var p,s,v,u=d.hashPollFrequency||100;a(function(){"onhashchange"in g.global&&(!b("ie")||8<=b("ie")&&"BackCompat"!=document.compatMode)?v=h.after(g.global,"onhashchange",n,!0):document.addEventListener?(p=l(),setInterval(m,u)):document.attachEvent&&(s=new r)});return g.hash})},
"url:dijit/layout/templates/TabContainer.html":'\x3cdiv class\x3d"dijitTabContainer"\x3e\n\t\x3cdiv class\x3d"dijitTabListWrapper" data-dojo-attach-point\x3d"tablistNode"\x3e\x3c/div\x3e\n\t\x3cdiv data-dojo-attach-point\x3d"tablistSpacer" class\x3d"dijitTabSpacer ${baseClass}-spacer"\x3e\x3c/div\x3e\n\t\x3cdiv class\x3d"dijitTabPaneWrapper ${baseClass}-container" data-dojo-attach-point\x3d"containerNode"\x3e\x3c/div\x3e\n\x3c/div\x3e\n',"url:dijit/layout/templates/_TabButton.html":'\x3cdiv role\x3d"presentation" data-dojo-attach-point\x3d"titleNode,innerDiv,tabContent" class\x3d"dijitTabInner dijitTabContent"\x3e\n\t\x3cspan role\x3d"presentation" class\x3d"dijitInline dijitIcon dijitTabButtonIcon" data-dojo-attach-point\x3d"iconNode"\x3e\x3c/span\x3e\n\t\x3cspan data-dojo-attach-point\x3d\'containerNode,focusNode\' class\x3d\'tabLabel\'\x3e\x3c/span\x3e\n\t\x3cspan class\x3d"dijitInline dijitTabCloseButton dijitTabCloseIcon" data-dojo-attach-point\x3d\'closeNode\'\n\t\t  role\x3d"presentation"\x3e\n\t\t\x3cspan data-dojo-attach-point\x3d\'closeText\' class\x3d\'dijitTabCloseText\'\x3e[x]\x3c/span\n\t\t\t\t\x3e\x3c/span\x3e\n\x3c/div\x3e\n',
"url:dijit/layout/templates/ScrollingTabController.html":'\x3cdiv class\x3d"dijitTabListContainer-${tabPosition}" style\x3d"visibility:hidden"\x3e\n\t\x3cdiv data-dojo-type\x3d"dijit.layout._ScrollingTabControllerMenuButton"\n\t\t class\x3d"tabStripButton-${tabPosition}"\n\t\t id\x3d"${id}_menuBtn"\n\t\t data-dojo-props\x3d"containerId: \'${containerId}\', iconClass: \'dijitTabStripMenuIcon\',\n\t\t\t\t\tdropDownPosition: [\'below-alt\', \'above-alt\']"\n\t\t data-dojo-attach-point\x3d"_menuBtn" showLabel\x3d"false" title\x3d""\x3e\x26#9660;\x3c/div\x3e\n\t\x3cdiv data-dojo-type\x3d"dijit.layout._ScrollingTabControllerButton"\n\t\t class\x3d"tabStripButton-${tabPosition}"\n\t\t id\x3d"${id}_leftBtn"\n\t\t data-dojo-props\x3d"iconClass:\'dijitTabStripSlideLeftIcon\', showLabel:false, title:\'\'"\n\t\t data-dojo-attach-point\x3d"_leftBtn" data-dojo-attach-event\x3d"onClick: doSlideLeft"\x3e\x26#9664;\x3c/div\x3e\n\t\x3cdiv data-dojo-type\x3d"dijit.layout._ScrollingTabControllerButton"\n\t\t class\x3d"tabStripButton-${tabPosition}"\n\t\t id\x3d"${id}_rightBtn"\n\t\t data-dojo-props\x3d"iconClass:\'dijitTabStripSlideRightIcon\', showLabel:false, title:\'\'"\n\t\t data-dojo-attach-point\x3d"_rightBtn" data-dojo-attach-event\x3d"onClick: doSlideRight"\x3e\x26#9654;\x3c/div\x3e\n\t\x3cdiv class\x3d\'dijitTabListWrapper\' data-dojo-attach-point\x3d\'tablistWrapper\'\x3e\n\t\t\x3cdiv role\x3d\'tablist\' data-dojo-attach-event\x3d\'onkeydown:onkeydown\'\n\t\t\t data-dojo-attach-point\x3d\'containerNode\' class\x3d\'nowrapTabStrip\'\x3e\x3c/div\x3e\n\t\x3c/div\x3e\n\x3c/div\x3e',
"url:dijit/layout/templates/_ScrollingTabControllerButton.html":'\x3cdiv data-dojo-attach-event\x3d"ondijitclick:_onClick" class\x3d"dijitTabInnerDiv dijitTabContent dijitButtonContents"  data-dojo-attach-point\x3d"focusNode" role\x3d"button"\x3e\n\t\x3cspan role\x3d"presentation" class\x3d"dijitInline dijitTabStripIcon" data-dojo-attach-point\x3d"iconNode"\x3e\x3c/span\x3e\n\t\x3cspan data-dojo-attach-point\x3d"containerNode,titleNode" class\x3d"dijitButtonText"\x3e\x3c/span\x3e\n\x3c/div\x3e',"url:rdforms/formulator/ItemEditorTemplate.html":'\x3cdiv\x3e\n    \x3cdiv class\x3d"formulatorTable"\x3e\n        \x3cdiv class\x3d"row"\x3e\x3clabel for\x3d"${id}_type"\x3eType:\x3c/label\x3e\x3cdiv\x3e\x3cdiv id\x3d"${id}_type" data-dojo-type\x3d"dijit/form/TextBox" data-dojo-attach-point\x3d"_typeDijit" data-dojo-props\x3d"disabled: true"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\n        \x3cdiv class\x3d"row"\x3e\x3clabel for\x3d"${id}_id"\x3eId:\x3c/label\x3e\x3cdiv\x3e\x3cdiv id\x3d"${id}_id" data-dojo-type\x3d"dijit/form/TextBox" data-dojo-attach-point\x3d"_idDijit" data-dojo-attach-event\x3d"onChange: _changeId" data-dojo-props\x3d"intermediateChanges: true"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\n        \x3cdiv class\x3d"row"\x3e\x3clabel for\x3d"${id}_extends"\x3eExtends:\x3c/label\x3e\n            \x3cdiv data-dojo-type\x3d"dojo/dnd/Target" data-dojo-attach-point\x3d"_extends_target" data-dojo-props\x3d"accept: [\'treenode\', \'text\']"\x3e\n                \x3cdiv id\x3d"${id}_extends" data-dojo-type\x3d"dijit/form/TextBox" data-dojo-attach-point\x3d"_extendsDijit" data-dojo-attach-event\x3d"onChange: _changeExtends" data-dojo-props\x3d"intermediateChanges: true"\x3e\x3c/div\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n        \x3cdiv class\x3d"row"\x3e\x3clabel for\x3d"${id}_property"\x3eProperty:\x3c/label\x3e\x3cdiv\x3e\x3cdiv id\x3d"${id}_property" data-dojo-type\x3d"dijit/form/TextBox" data-dojo-attach-point\x3d"_propDijit" data-dojo-attach-event\x3d"onChange: _changeProperty" data-dojo-props\x3d"intermediateChanges: true"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\n        \x3cdiv class\x3d"row"\x3e\x3clabel for\x3d"${id}_nt"\x3eNodeType:\x3c/label\x3e\x3cdiv\x3e\n            \x3cselect class\x3d"select" name\x3d"select1" data-dojo-type\x3d"dijit/form/Select" id\x3d"${id}_nt" data-dojo-attach-point\x3d"_ntDijit" data-dojo-attach-event\x3d"onChange: _changeNT"\x3e\n                \x3coption value\x3d"LANGUAGE_LITERAL"\x3eLiteral, language mandatory\x3c/option\x3e\n                \x3coption value\x3d"PLAIN_LITERAL"\x3eLiteral, language optional\x3c/option\x3e\n                \x3coption value\x3d"ONLY_LITERAL"\x3eLiteral, language disallowed\x3c/option\x3e\n                \x3coption value\x3d"DATATYPE_LITERAL"\x3eDatatyped literal\x3c/option\x3e\n                \x3coption value\x3d"LITERAL" selected\x3d"selected"\x3eAny kind of literal\x3c/option\x3e\n                \x3coption value\x3d"URI"\x3eURI\x3c/option\x3e\n                \x3coption value\x3d"BLANK"\x3eBlank node\x3c/option\x3e\n                \x3coption value\x3d"RESOURCE"\x3eURI or blank node\x3c/option\x3e\n            \x3c/select\x3e\n        \x3c/div\x3e\x3c/div\x3e\n        \x3cdiv class\x3d"row"\x3e\x3clabel for\x3d"${id}_dt"\x3eDataType:\x3c/label\x3e\x3cdiv\x3e\n            \x3cselect class\x3d"select" data-dojo-type\x3d"dijit/form/ComboBox" id\x3d"${id}_dt" name\x3d"dt" data-dojo-attach-point\x3d"_dtDijit" data-dojo-attach-event\x3d"onChange: _changeDT"\x3e\n                \x3coption selected\x3e\x3c/option\x3e\n                \x3coption\x3ehttp://www.w3.org/2001/XMLSchema#date\x3c/option\x3e\n                \x3coption\x3ehttp://www.w3.org/2001/XMLSchema#duration\x3c/option\x3e\n                \x3coption\x3ehttp://www.w3.org/2001/XMLSchema#decimal\x3c/option\x3e\n                \x3coption\x3ehttp://www.w3.org/2001/XMLSchema#integer\x3c/option\x3e\n                \x3coption\x3ehttp://www.w3.org/2001/XMLSchema#boolean\x3c/option\x3e\n            \x3c/select\x3e\n        \x3c/div\x3e\x3c/div\x3e\n        \x3cdiv class\x3d"row"\x3e\x3clabel for\x3d"${id}_pattern"\x3ePattern:\x3c/label\x3e\x3cdiv\x3e\x3cdiv id\x3d"${id}_pattern" data-dojo-type\x3d"dijit/form/TextBox" data-dojo-attach-point\x3d"_patternDijit" data-dojo-attach-event\x3d"onChange: _changePattern" data-dojo-props\x3d"intermediateChanges: true"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\n        \x3cdiv class\x3d"row"\x3e\x3clabel\x3eLabel: \x3cspan data-dojo-attach-point\x3d"_addLabel" class\x3d"addButton"\x3e+\x3c/span\x3e\x3c/label\x3e\x3cdiv\x3e\n            \x3cdiv data-dojo-attach-point\x3d"_labelLangString" data-dojo-type\x3d"rdforms/formulator/LangString"\x3e\x3c/div\x3e\n        \x3c/div\x3e\x3c/div\x3e\n        \x3cdiv class\x3d"row"\x3e\x3clabel\x3eDescription: \x3cspan data-dojo-attach-point\x3d"_addDesc" class\x3d"addButton"\x3e+\x3c/span\x3e\x3c/label\x3e\x3cdiv\x3e\n            \x3cdiv data-dojo-attach-point\x3d"_descLangString" data-dojo-type\x3d"rdforms/formulator/LangString" data-dojo-props\x3d"multiline: true"\x3e\x3c/div\x3e\n        \x3c/div\x3e\x3c/div\x3e\n        \x3cdiv class\x3d"row"\x3e\x3clabel\x3eCardinality: \x3c/label\x3e\x3cdiv\x3e\x3cdiv class\x3d"cardinality"\x3e\n            \x3clabel for\x3d"${id}_min"\x3eMin:\x3c/label\x3e\x3cdiv id\x3d"${id}_min" data-dojo-type\x3d"dijit/form/NumberTextBox" data-dojo-attach-point\x3d"_minDijit" data-dojo-attach-event\x3d"onChange: _changeCard"\x3e\x3c/div\x3e\n            \x3clabel for\x3d"${id}_pref"\x3ePref:\x3c/label\x3e\x3cdiv id\x3d"${id}_pref" data-dojo-type\x3d"dijit/form/NumberTextBox" data-dojo-attach-point\x3d"_prefDijit" data-dojo-attach-event\x3d"onChange: _changeCard"\x3e\x3c/div\x3e\n            \x3clabel for\x3d"${id}_max"\x3eMax:\x3c/label\x3e\x3cdiv id\x3d"${id}_max" data-dojo-type\x3d"dijit/form/NumberTextBox" data-dojo-attach-point\x3d"_maxDijit" data-dojo-attach-event\x3d"onChange: _changeCard"\x3e\x3c/div\x3e\n        \x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\n        \x3cdiv class\x3d"row"\x3e\x3clabel for\x3d"${id}_constr"\x3eConstraints:\x3c/label\x3e\x3cdiv\x3e\x3cdiv id\x3d"${id}_constr" data-dojo-type\x3d"dijit/form/ValidationTextBox" data-dojo-attach-point\x3d"_constrDijit" data-dojo-attach-event\x3d"onChange: _changeConstr" data-dojo-props\x3d"intermediateChanges: true, invalidMessage: \'Must be a valid json string.\'"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\n        \x3cdiv class\x3d"row"\x3e\x3clabel for\x3d"${id}_cls"\x3eClasses:\x3c/label\x3e\x3cdiv\x3e\x3cdiv id\x3d"${id}_cls" data-dojo-type\x3d"dijit/form/TextBox" data-dojo-attach-point\x3d"_clsDijit" data-dojo-attach-event\x3d"onChange: _changeCls" data-dojo-props\x3d"intermediateChanges: true"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\n        \x3cdiv class\x3d"row"\x3e\x3clabel for\x3d"${id}_sty"\x3eStyles:\x3c/label\x3e\x3cdiv\x3e\x3cdiv data-dojo-attach-point\x3d"_stylesWrapper"\x3e\n        \x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:rdforms/formulator/ChoicesEditorTemplate.html":'\x3cdiv\x3e\n    \x3cdiv data-dojo-type\x3d"dijit/layout/BorderContainer" data-dojo-attach-point\x3d"_bcDijit" style\x3d"height: 100%"\x3e\n        \x3cdiv data-dojo-type\x3d"dijit/layout/ContentPane" data-dojo-attach-point\x3d"_controlDijit" data-dojo-props\x3d"region: \'top\', splitter: true" style\x3d"height: 25px"\x3e\n            \x3cdiv class\x3d"formulatorTable"\x3e\n                \x3cdiv class\x3d"row"\x3e\x3clabel for\x3d"${id}_inline"\x3eInline choices: \x3c/label\x3e\x3cdiv\x3e\x3cdiv\x3e\n                    \x3cdiv data-dojo-attach-point\x3d"_inlineDijit" id\x3d"${id}_inline" data-dojo-type\x3d"dijit/form/CheckBox" data-dojo-attach-event\x3d"onChange: _changeInline"\x3e\x3c/div\x3e\n                \x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\n                \x3cdiv class\x3d"row dynamic"\x3e\x3clabel for\x3d"${id}_ontology"\x3eOntology URL:\x3c/label\x3e\x3cdiv\x3e\x3cdiv id\x3d"${id}_ontology" data-dojo-type\x3d"dijit/form/TextBox" data-dojo-attach-point\x3d"_ontologyDijit" data-dojo-attach-event\x3d"onChange: _changeOntologyUrl" data-dojo-props\x3d"intermediateChanges: true"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\n                \x3cdiv class\x3d"row dynamic"\x3e\x3clabel for\x3d"${id}_hproperty"\x3eHierarchy property:\x3c/label\x3e\x3cdiv\x3e\x3cdiv id\x3d"${id}_hproperty" data-dojo-type\x3d"dijit/form/TextBox" data-dojo-attach-point\x3d"_hpDijit" data-dojo-attach-event\x3d"onChange: _changeHProperty" data-dojo-props\x3d"intermediateChanges: true"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\n                \x3cdiv class\x3d"row dynamic"\x3e\x3clabel for\x3d"${id}_hpinv"\x3eis inverted: \x3c/label\x3e\x3cdiv\x3e\x3cdiv\x3e\n                    \x3cdiv data-dojo-attach-point\x3d"_hpinvDijit" id\x3d"${id}_hpinv" data-dojo-type\x3d"dijit/form/CheckBox" data-dojo-attach-event\x3d"onChange: _changeHPI"\x3e\x3c/div\x3e\n                \x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\n                \x3cdiv class\x3d"row dynamic"\x3e\x3clabel for\x3d"${id}_pproperty"\x3eParent property:\x3c/label\x3e\x3cdiv\x3e\x3cdiv id\x3d"${id}_pproperty" data-dojo-type\x3d"dijit/form/TextBox" data-dojo-attach-point\x3d"_ppDijit" data-dojo-attach-event\x3d"onChange: _changePProperty" data-dojo-props\x3d"intermediateChanges: true"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\n                \x3cdiv class\x3d"row dynamic"\x3e\x3clabel for\x3d"${id}_ppinv"\x3eis inverted: \x3c/label\x3e\x3cdiv\x3e\x3cdiv\x3e\n                    \x3cdiv data-dojo-attach-point\x3d"_ppinvDijit" id\x3d"${id}_ppinv" data-dojo-type\x3d"dijit/form/CheckBox" data-dojo-attach-event\x3d"onChange: _changePPI"\x3e\x3c/div\x3e\n                \x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n        \x3cdiv data-dojo-type\x3d"dijit/layout/ContentPane" data-dojo-props\x3d"region: \'center\'"\x3e\n            \x3cdiv data-dojo-attach-point\x3d"_treeNode"\x3e\x3c/div\x3e\n        \x3c/div\x3e\n        \x3cdiv data-dojo-type\x3d"dijit/layout/ContentPane" data-dojo-props\x3d"region: \'bottom\', splitter: true" style\x3d"height: 35%"\x3e\n            \x3cdiv class\x3d"formulatorTable"\x3e\n                \x3cdiv class\x3d"row"\x3e\x3clabel for\x3d"${id}_value"\x3eValue:\x3c/label\x3e\x3cdiv\x3e\x3cdiv id\x3d"${id}_value" data-dojo-type\x3d"dijit/form/ValidationTextBox" data-dojo-attach-point\x3d"_valueDijit" data-dojo-attach-event\x3d"onChange: _changeValue" data-dojo-props\x3d"intermediateChanges: true, invalidMessage: \'Value must be unique.\'"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\n                \x3cdiv class\x3d"row"\x3e\x3clabel\x3eLabel: \x3cspan data-dojo-attach-point\x3d"_addLabel" class\x3d"addButton"\x3e+\x3c/span\x3e\x3c/label\x3e\x3cdiv\x3e\n                    \x3cdiv data-dojo-attach-point\x3d"_labelLangString" data-dojo-type\x3d"rdforms/formulator/LangString"\x3e\x3c/div\x3e\n                \x3c/div\x3e\x3c/div\x3e\n                \x3cdiv class\x3d"row"\x3e\x3clabel\x3eDescription: \x3cspan data-dojo-attach-point\x3d"_addDesc" class\x3d"addButton"\x3e+\x3c/span\x3e\x3c/label\x3e\x3cdiv\x3e\n                    \x3cdiv data-dojo-attach-point\x3d"_descLangString" data-dojo-type\x3d"rdforms/formulator/LangString" data-dojo-props\x3d"multiline: true"\x3e\x3c/div\x3e\n                \x3c/div\x3e\x3c/div\x3e\n                \x3cdiv class\x3d"row"\x3e\x3clabel\x3eSelectable: \x3c/label\x3e\x3cdiv\x3e\x3cdiv\x3e\n                    \x3cdiv data-dojo-attach-point\x3d"_selectable" data-dojo-type\x3d"dijit/form/CheckBox" data-dojo-attach-event\x3d"onChange: _changeSelectable"\x3e\x3c/div\x3e\n                \x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:rdforms/apps/RDFViewTemplate.html":"\x3cdiv\x3e\n    \x3cdiv data-dojo-type\x3d'dijit/layout/TabContainer' data-dojo-attach-point\x3d'_tabContainer' style\x3d'height: 100%' data-dojo-props\x3d\"nested: true\"\x3e\n        \x3cdiv data-dojo-type\x3d'dijit/layout/ContentPane' title\x3d'RDF/XML' data-dojo-attach-point\x3d'_rdfxmlTab'\x3e\n            \x3cdiv data-dojo-type\x3d'dijit/form/SimpleTextarea' data-dojo-attach-point\x3d'_rdfxml' style\x3d'padding: 0px; margin: 0px;height: 100%; width: 100%; overflow:auto;border-width:0px;'\x3e\x3c/div\x3e\n        \x3c/div\x3e\n        \x3cdiv data-dojo-type\x3d'dijit/layout/ContentPane' title\x3d'RDF/JSON' data-dojo-attach-point\x3d'_rdfjsonTab'\x3e\n            \x3cdiv data-dojo-type\x3d'dijit/form/SimpleTextarea' data-dojo-attach-point\x3d'_rdfjson' style\x3d'padding: 0px; margin: 0px;height: 100%; width: 100%; overflow:auto;border-width:0px;'\x3e\x3c/div\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n",
"url:rdforms/apps/ExperimentTemplate.html":"\x3cdiv\x3e\n  \x3cdiv data-dojo-type\x3d'dijit/layout/TabContainer' data-dojo-attach-point\x3d'_tabContainer' style\x3d'height: 100%' data-dojo-props\x3d\"gutters:false\"\x3e\n    \x3cdiv data-dojo-type\x3d'dijit/layout/ContentPane' title\x3d'Editor' data-dojo-props\x3d\"selected:'true'\" data-dojo-attach-point\x3d'_editorTab'\x3e\n        \x3cdiv data-dojo-type\x3d\"rdforms/view/Editor\" data-dojo-attach-point\x3d\"editor\" data-dojo-props\x3d\"compact: true,includeLevel: 'optional'\"\x3e\x3c/div\x3e\n    \x3c/div\x3e\n    \x3cdiv data-dojo-type\x3d'dijit/layout/ContentPane' title\x3d'Presenter' data-dojo-attach-point\x3d'_presenterTab'\x3e\n        \x3cdiv data-dojo-type\x3d\"rdforms/view/Presenter\" data-dojo-attach-point\x3d\"presenter\" data-dojo-props\x3d\"compact: true\"\x3e\x3c/div\x3e\n    \x3c/div\x3e\n    \x3cdiv data-dojo-type\x3d'dijit/layout/ContentPane' title\x3d'Template' data-dojo-attach-point\x3d'_templateTab'\x3e\n      \x3cdiv data-dojo-type\x3d'dijit/form/SimpleTextarea' data-dojo-attach-point\x3d'_templateView' style\x3d'padding: 0px; margin: 0px;height: 100%; width: 100%; overflow:auto;'\x3e\x3c/div\x3e\n    \x3c/div\x3e\n    \x3cdiv data-dojo-type\x3d'rdforms/apps/RDFView' title\x3d'RDF data' data-dojo-attach-point\x3d'_rdfTab'\x3e\x3c/div\x3e\n  \x3c/div\x3e\n\x3c/div\x3e\n",
"url:rdforms/formulator/StoreManagerTemplate.html":'\x3cdiv class\x3d"storeManager"\x3e\n    \x3cdiv data-dojo-type\x3d"dijit/layout/BorderContainer" data-dojo-attach-point\x3d"_bcDijit" style\x3d"height: 100%" data-dojo-props\x3d"gutters: false"\x3e\n        \x3cdiv data-dojo-type\x3d"dijit/layout/TabContainer" data-dojo-props\x3d"region:\'center\', gutters:true" data-dojo-attach-point\x3d"_tabsDijit" style\x3d"padding-top: 5px"\x3e\n            \x3cdiv data-dojo-type\x3d"dijit/layout/ContentPane" title\x3d"Template editor" data-dojo-attach-point\x3d"_itemEditorTab"\x3e\n                \x3cdiv data-dojo-attach-point\x3d"_editorNode"\x3e\x3c/div\x3e\n            \x3c/div\x3e\n            \x3cdiv data-dojo-type\x3d"dijit/layout/ContentPane" title\x3d"Template choices" data-dojo-attach-point\x3d"_choicesTab"\x3e\n                \x3cdiv data-dojo-attach-point\x3d"_choicesNode"\x3e\x3c/div\x3e\n            \x3c/div\x3e\n            \x3cdiv data-dojo-type\x3d"dijit/layout/ContentPane" title\x3d"Template source"\x3e\n                \x3ctextarea readonly data-dojo-attach-point\x3d"_contentsNode" class\x3d"maximized_textarea"\x3e\x3c/textarea\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n        \x3cdiv data-dojo-type\x3d"dijit/layout/BorderContainer" data-dojo-props\x3d"region:\'left\', gutters: false,splitter:true" style\x3d"width: 20%;background: rgb(245, 245, 245);"\x3e\n            \x3cdiv data-dojo-type\x3d"dijit/layout/ContentPane" data-dojo-props\x3d"region:\'bottom\',splitter: false"\x3e\n                \x3cdiv data-dojo-type\x3d"dijit/form/Button" data-dojo-attach-point\x3d"_saveAllButton" data-dojo-attach-event\x3d"onClick: _saveTemplates" style\x3d"float:right"\x3eSave\x3c/div\x3e\n            \x3c/div\x3e\n            \x3cdiv data-dojo-type\x3d"dijit/layout/ContentPane" data-dojo-props\x3d"region:\'center\',splitter: false"\x3e\n                \x3cdiv data-dojo-attach-point\x3d"_treeNode" style\x3d"height: 100%;overflow-y: auto" class\x3d"itemList"\x3e\x3c/div\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e\n        \x3cdiv data-dojo-type\x3d"dijit/layout/ContentPane" data-dojo-props\x3d"region:\'right\',splitter:true, gutters: false" style\x3d"width:40%;padding:5px 0px 0px 0px"\x3e\n            \x3cdiv data-dojo-attach-point\x3d"_previewNode" style\x3d"height:100%;overflow-y:auto;"\x3e\x3c/div\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n',
"url:rdforms/apps/ValidatorTemplate.html":"\x3cdiv class\x3d'validator'\x3e\n  \x3cdiv data-dojo-type\x3d'dijit.TitlePane' title\x3d'RDF/JSON source' data-dojo-props\x3d\"open: ${rdfjsonEditorOpen}\"\x3e\n    \x3cdiv data-dojo-type\x3d'dijit.form.SimpleTextarea' data-dojo-attach-point\x3d'_rdfjsonDijit' style\x3d'width:100%;height:200px'\x3e\x3c/div\x3e\n    \x3cdiv data-dojo-type\x3d'dijit.form.Button' data-dojo-props\x3d\"label:'Update'\" dojoAttachEvent\x3d'onClick:_update'\x3e\x3c/div\x3e\n  \x3c/div\x3e\n  \x3cdiv class\x3d'json' data-dojo-attach-point\x3d'_jsonNode'\x3e\x3c/div\x3e\n  \x3cdiv class\x3d'rdfjson' data-dojo-attach-point\x3d'_rdfjsonNode'\x3e\x3c/div\x3e\n  \x3cdiv class\x3d'rforms' data-dojo-attach-point\x3d'_rformsNode'\x3e\x3c/div\x3e\n\x3c/div\x3e\n",
"url:dijit/templates/ProgressBar.html":'\x3cdiv class\x3d"dijitProgressBar dijitProgressBarEmpty" role\x3d"progressbar"\n\t\x3e\x3cdiv  data-dojo-attach-point\x3d"internalProgress" class\x3d"dijitProgressBarFull"\n\t\t\x3e\x3cdiv class\x3d"dijitProgressBarTile" role\x3d"presentation"\x3e\x3c/div\n\t\t\x3e\x3cspan style\x3d"visibility:hidden"\x3e\x26#160;\x3c/span\n\t\x3e\x3c/div\n\t\x3e\x3cdiv data-dojo-attach-point\x3d"labelNode" class\x3d"dijitProgressBarLabel" id\x3d"${id}_label"\x3e\x3c/div\n\t\x3e\x3cspan data-dojo-attach-point\x3d"indeterminateHighContrastImage"\n\t\t   class\x3d"dijitInline dijitProgressBarIndeterminateHighContrastImage"\x3e\x3c/span\n\x3e\x3c/div\x3e\n',
"url:rdforms/apps/LDBrowserTemplate.html":'\x3cdiv class\x3d"ldbrowser"\x3e\n  \x3cdiv style\x3d\'height: 100%;position: relative\'\x3e\n      \x3cdiv style\x3d"font-size: large; margin: 0px 5px"\x3e\n          \x3cdiv style\x3d"display: table;width: 100%"\x3e\x3cdiv style\x3d"display: table-row"\x3e\n              \x3cdiv style\x3d"display:table-cell;width:1px;padding-right: 1em"\x3eResource:\x3c/div\x3e\n              \x3cdiv style\x3d"display:table-cell;width: auto"\x3e\n                  \x3cdiv style\x3d"width: 100%;box-sizing: border-box;padding: 0px 5px" data-dojo-type\x3d"dijit/form/TextBox"\n                       data-dojo-attach-point\x3d"textboxURI" data-dojo-props\x3d"trim: true" data-dojo-attach-event\x3d"onKeyPress: _uriKeypress"\x3e\x3c/div\x3e\x3c/div\x3e\n          \x3c/div\x3e\x3c/div\x3e\n      \x3c/div\x3e\n      \x3cdiv style\x3d"display:none;margin: 5px;" data-dojo-attach-point\x3d"examplesBlock"\x3e\n          \x3cspan\x3eExample resources: \x3c/span\x3e\n          \x3cspan data-dojo-attach-point\x3d"examples"\x3e\x3c/span\x3e\n      \x3c/div\x3e\n      \x3cdiv data-dojo-type\x3d"dijit/layout/BorderContainer" data-dojo-attach-point\x3d"_borderContainer" style\x3d"position:absolute; top: 35px;bottom: 0px; left: 0px; right: 0px"\x3e\n          \x3cdiv data-dojo-type\x3d\'dijit/layout/TabContainer\' data-dojo-attach-point\x3d\'_tabContainer\' data-dojo-props\x3d"region: \'center\'"\x3e\n              \x3cdiv data-dojo-type\x3d\'dijit/layout/ContentPane\' title\x3d\'Browser\' data-dojo-attach-point\x3d\'_presenterTab\'\x3e\n                  \x3cdiv data-dojo-type\x3d"rdforms/view/Presenter" data-dojo-attach-point\x3d"presenter" data-dojo-props\x3d"compact: true"\x3e\x3c/div\x3e\n              \x3c/div\x3e\n              \x3cdiv data-dojo-type\x3d\'rdforms/apps/RDFView\' title\x3d\'RDF data\' data-dojo-attach-point\x3d\'_rdfTab\'\x3e\x3c/div\x3e\n          \x3c/div\x3e\n      \x3c/div\x3e\n  \x3c/div\x3e\n\x3c/div\x3e\n'}});
define("rdforms/extras",[],1);
//# sourceMappingURL=extras.js.map